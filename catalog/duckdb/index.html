
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="A PostgreSQL extension for connecting to external data sources">
      
      
        <meta name="author" content="supabase">
      
      
        <link rel="canonical" href="https://supabase.github.io/wrappers/catalog/duckdb/">
      
      
        <link rel="prev" href="../clickhouse/">
      
      
        <link rel="next" href="../firebase/">
      
      
        
      
      
      <link rel="icon" href="../../assets/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>DuckDB - Wrappers</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="green" data-md-color-accent="green">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#duckdb" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Wrappers" class="md-header__button md-logo" aria-label="Wrappers" data-md-component="logo">
      
  <img src="../../assets/wrappers.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Wrappers
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              DuckDB
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
    
      <div class="md-header__source">
        <a href="https://github.com/supabase/wrappers" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    supabase/wrappers
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../.." class="md-tabs__link">
          
  
  
    
  
  Home

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../" class="md-tabs__link">
          
  
  
    
  
  Catalog

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../guides/native-wasm/" class="md-tabs__link">
          
  
  
    
  
  Guides

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../contributing/documentation/" class="md-tabs__link">
          
  
  
    
  
  Contributing

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Wrappers" class="md-nav__button md-logo" aria-label="Wrappers" data-md-component="logo">
      
  <img src="../../assets/wrappers.svg" alt="logo">

    </a>
    Wrappers
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/supabase/wrappers" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    supabase/wrappers
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../.." class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Home
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Catalog
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Catalog
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Native
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Native
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../airtable/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Airtable
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../auth0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Auth0
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cognito/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    AWS Cognito
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../bigquery/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    BigQuery
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../clickhouse/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ClickHouse
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    DuckDB
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    DuckDB
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#preparation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Preparation
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Preparation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#enable-wrappers" class="md-nav__link">
    <span class="md-ellipsis">
      
        Enable Wrappers
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enable-the-duckdb-wrapper" class="md-nav__link">
    <span class="md-ellipsis">
      
        Enable the DuckDB Wrapper
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#store-your-credentials-optional" class="md-nav__link">
    <span class="md-ellipsis">
      
        Store your credentials (optional)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#connecting-to-duckdb" class="md-nav__link">
    <span class="md-ellipsis">
      
        Connecting to DuckDB
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Connecting to DuckDB">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#aws-s3" class="md-nav__link">
    <span class="md-ellipsis">
      
        AWS S3
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aws-s3-tables" class="md-nav__link">
    <span class="md-ellipsis">
      
        AWS S3 Tables
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cloudflare-r2" class="md-nav__link">
    <span class="md-ellipsis">
      
        Cloudflare R2
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cloudflare-r2-data-catalog" class="md-nav__link">
    <span class="md-ellipsis">
      
        Cloudflare R2 Data Catalog
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#apache-polaris" class="md-nav__link">
    <span class="md-ellipsis">
      
        Apache Polaris
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lakekeeper" class="md-nav__link">
    <span class="md-ellipsis">
      
        Lakekeeper
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#iceberg" class="md-nav__link">
    <span class="md-ellipsis">
      
        Iceberg
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#motherduck" class="md-nav__link">
    <span class="md-ellipsis">
      
        MotherDuck
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-a-schema" class="md-nav__link">
    <span class="md-ellipsis">
      
        Create a schema
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#options" class="md-nav__link">
    <span class="md-ellipsis">
      
        Options
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#entities" class="md-nav__link">
    <span class="md-ellipsis">
      
        Entities
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Entities">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#duckdb-tables" class="md-nav__link">
    <span class="md-ellipsis">
      
        DuckDB Tables
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="DuckDB Tables">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#operations" class="md-nav__link">
    <span class="md-ellipsis">
      
        Operations
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usage" class="md-nav__link">
    <span class="md-ellipsis">
      
        Usage
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#query-pushdown-support" class="md-nav__link">
    <span class="md-ellipsis">
      
        Query Pushdown Support
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#supported-data-types" class="md-nav__link">
    <span class="md-ellipsis">
      
        Supported Data Types
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#limitations" class="md-nav__link">
    <span class="md-ellipsis">
      
        Limitations
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        Examples
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-example" class="md-nav__link">
    <span class="md-ellipsis">
      
        Basic Example
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#read-aws-s3-tables" class="md-nav__link">
    <span class="md-ellipsis">
      
        Read AWS S3 Tables
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#read-cloudflare-r2-data-catalog" class="md-nav__link">
    <span class="md-ellipsis">
      
        Read Cloudflare R2 Data Catalog
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#query-pushdown-examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        Query Pushdown Examples
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../firebase/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Firebase
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../iceberg/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Iceberg
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../logflare/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Logflare
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../redis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Redis
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../s3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    S3 (CSV, JSON, Parquet)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../s3vectors/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    S3 Vectors
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../stripe/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Stripe
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../mssql/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SQL Server
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../wasm/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Wasm
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_3" id="__nav_2_3_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Wasm
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cal/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Cal.com
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../calendly/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Calendly
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../clerk/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Clerk
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cfd1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Cloudflare D1
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../gravatar/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Gravatar
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../hubspot/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    HubSpot
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../infura/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Infura
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../notion/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Notion
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../openapi/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    OpenAPI
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../orb/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Orb
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../paddle/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Paddle
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../shopify/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Shopify
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../slack/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Slack
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../snowflake/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Snowflake
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Guides
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Guides
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/native-wasm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Native vs Wasm Wrappers
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/query-pushdown/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Query Pushdown
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/remote-subqueries/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Remote Subqueries
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/security/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Security
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/usage-statistics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    FDW Statistics
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Installing Wrappers in Postgres
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/updating-wrappers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Updating Foreign Data Wrappers
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/removing-wrappers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Removing Foreign Data Wrappers
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/limitations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Limitations
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Contributing
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Contributing
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../contributing/documentation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Building the Docs
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../contributing/core/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Core Development
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_3" >
        
          
          <label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Developing a Native Wrapper
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Developing a Native Wrapper
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../contributing/native/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Quick Start
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_4" >
        
          
          <label class="md-nav__link" for="__nav_4_4" id="__nav_4_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Developing a Wasm Wrapper
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Developing a Wasm Wrapper
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/create-wasm-wrapper/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Quick Start
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/wasm-advanced/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Advanced guide
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#preparation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Preparation
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Preparation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#enable-wrappers" class="md-nav__link">
    <span class="md-ellipsis">
      
        Enable Wrappers
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enable-the-duckdb-wrapper" class="md-nav__link">
    <span class="md-ellipsis">
      
        Enable the DuckDB Wrapper
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#store-your-credentials-optional" class="md-nav__link">
    <span class="md-ellipsis">
      
        Store your credentials (optional)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#connecting-to-duckdb" class="md-nav__link">
    <span class="md-ellipsis">
      
        Connecting to DuckDB
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Connecting to DuckDB">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#aws-s3" class="md-nav__link">
    <span class="md-ellipsis">
      
        AWS S3
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aws-s3-tables" class="md-nav__link">
    <span class="md-ellipsis">
      
        AWS S3 Tables
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cloudflare-r2" class="md-nav__link">
    <span class="md-ellipsis">
      
        Cloudflare R2
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cloudflare-r2-data-catalog" class="md-nav__link">
    <span class="md-ellipsis">
      
        Cloudflare R2 Data Catalog
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#apache-polaris" class="md-nav__link">
    <span class="md-ellipsis">
      
        Apache Polaris
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lakekeeper" class="md-nav__link">
    <span class="md-ellipsis">
      
        Lakekeeper
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#iceberg" class="md-nav__link">
    <span class="md-ellipsis">
      
        Iceberg
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#motherduck" class="md-nav__link">
    <span class="md-ellipsis">
      
        MotherDuck
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-a-schema" class="md-nav__link">
    <span class="md-ellipsis">
      
        Create a schema
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#options" class="md-nav__link">
    <span class="md-ellipsis">
      
        Options
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#entities" class="md-nav__link">
    <span class="md-ellipsis">
      
        Entities
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Entities">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#duckdb-tables" class="md-nav__link">
    <span class="md-ellipsis">
      
        DuckDB Tables
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="DuckDB Tables">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#operations" class="md-nav__link">
    <span class="md-ellipsis">
      
        Operations
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usage" class="md-nav__link">
    <span class="md-ellipsis">
      
        Usage
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#query-pushdown-support" class="md-nav__link">
    <span class="md-ellipsis">
      
        Query Pushdown Support
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#supported-data-types" class="md-nav__link">
    <span class="md-ellipsis">
      
        Supported Data Types
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#limitations" class="md-nav__link">
    <span class="md-ellipsis">
      
        Limitations
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        Examples
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-example" class="md-nav__link">
    <span class="md-ellipsis">
      
        Basic Example
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#read-aws-s3-tables" class="md-nav__link">
    <span class="md-ellipsis">
      
        Read AWS S3 Tables
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#read-cloudflare-r2-data-catalog" class="md-nav__link">
    <span class="md-ellipsis">
      
        Read Cloudflare R2 Data Catalog
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#query-pushdown-examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        Query Pushdown Examples
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  

  <nav class="md-tags" >
    
      
      
      
      
        <a href="../../tags/#tag:native" class="md-tag">native</a>
      
    
      
      
      
      
        <a href="../../tags/#tag:official" class="md-tag">official</a>
      
    
  </nav>


  
  


<h1 id="duckdb">DuckDB</h1>
<p><a href="https://duckdb.org/">DuckDB</a> is an open-source column-oriented Relational Database Management System.</p>
<p>The DuckDB Wrapper allows you to read data from DuckDB within your Postgres database.</p>
<h2 id="preparation">Preparation</h2>
<p>Before you can query DuckDB, you need to enable the Wrappers extension and store your credentials in Postgres.</p>
<h3 id="enable-wrappers">Enable Wrappers</h3>
<p>Make sure the <code>wrappers</code> extension is installed on your database:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">create</span><span class="w"> </span><span class="n">extension</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">exists</span><span class="w"> </span><span class="n">wrappers</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="k">schema</span><span class="w"> </span><span class="n">extensions</span><span class="p">;</span>
</code></pre></div></td></tr></table></div>
<h3 id="enable-the-duckdb-wrapper">Enable the DuckDB Wrapper</h3>
<p>Enable the <code>duckdb_wrapper</code> FDW:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">create</span><span class="w"> </span><span class="k">foreign</span><span class="w"> </span><span class="k">data</span><span class="w"> </span><span class="n">wrapper</span><span class="w"> </span><span class="n">duckdb_wrapper</span>
<span class="w">  </span><span class="k">handler</span><span class="w"> </span><span class="n">duckdb_fdw_handler</span>
<span class="w">  </span><span class="k">validator</span><span class="w"> </span><span class="n">duckdb_fdw_validator</span><span class="p">;</span>
</code></pre></div></td></tr></table></div>
<h3 id="store-your-credentials-optional">Store your credentials (optional)</h3>
<p>By default, Postgres stores FDW credentials inside <code>pg_catalog.pg_foreign_server</code> in plain text. Anyone with access to this table will be able to view these credentials. Wrappers is designed to work with <a href="https://supabase.com/docs/guides/database/vault">Vault</a>, which provides an additional level of security for storing credentials. We recommend using Vault to store your credentials.</p>
<p>DuckDB can connect to many data sources, the credential to be saved in Vault depends on which data source you're going to use. For example, to store AWS credentials for S3 connection, you can run below SQL and note down the secret IDs returned:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1">-- Save your AWS credentials in Vault and retrieve the created</span>
<span class="c1">-- `aws_access_key_id` and `aws_secret_access_key`</span>
<span class="k">select</span><span class="w"> </span><span class="n">vault</span><span class="p">.</span><span class="n">create_secret</span><span class="p">(</span>
<span class="w">  </span><span class="s1">&#39;&lt;access key id&gt;&#39;</span><span class="p">,</span><span class="w">  </span><span class="c1">-- secret to be encrypted</span>
<span class="w">  </span><span class="s1">&#39;aws_access_key_id&#39;</span><span class="p">,</span><span class="w">  </span><span class="c1">-- secret name</span>
<span class="w">  </span><span class="s1">&#39;AWS access key for Wrappers&#39;</span><span class="w">  </span><span class="c1">-- secret description</span>
<span class="p">);</span>
<span class="k">select</span><span class="w"> </span><span class="n">vault</span><span class="p">.</span><span class="n">create_secret</span><span class="p">(</span>
<span class="w">  </span><span class="s1">&#39;&lt;secret access key&gt;&#39;</span>
<span class="w">  </span><span class="s1">&#39;aws_secret_access_key&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="s1">&#39;AWS secret access key for Wrappers&#39;</span>
<span class="p">);</span>
</code></pre></div></td></tr></table></div>
<h3 id="connecting-to-duckdb">Connecting to DuckDB</h3>
<p>We need to provide Postgres with the credentials to connect to DuckDB. We can do this using the <code>create server</code> command. Depends on the data source, there are different server options needs to be specified. Below is the list of supported data sources and their corresponding server options.</p>
<p>For any server options need to be stored in Vault, you can add a prefix <code>vault_</code> to its name and use the secret ID returned from the <code>select vault.create_secret()</code> statement as the option value.</p>
<h4 id="aws-s3">AWS S3</h4>
<table>
<thead>
<tr>
<th>Server Option</th>
<th>Description</th>
<th style="text-align: center;">Required</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td>type</td>
<td>Server type, must be <code>s3</code></td>
<td style="text-align: center;">Y</td>
<td></td>
</tr>
<tr>
<td>key_id</td>
<td>The ID of the key to use</td>
<td style="text-align: center;">Y</td>
<td></td>
</tr>
<tr>
<td>secret</td>
<td>The secret of the key to use</td>
<td style="text-align: center;">Y</td>
<td></td>
</tr>
<tr>
<td>region</td>
<td>The region for which to authenticate</td>
<td style="text-align: center;"></td>
<td><code>us-east-1</code></td>
</tr>
<tr>
<td>endpoint</td>
<td>Specify a custom S3 endpoint</td>
<td style="text-align: center;"></td>
<td><code>s3.amazonaws.com</code></td>
</tr>
<tr>
<td>session_token</td>
<td>A session token passed to use as temporary credentials</td>
<td style="text-align: center;"></td>
<td></td>
</tr>
<tr>
<td>url_compatibility_mode</td>
<td>Can help when URLs contain problematic characters</td>
<td style="text-align: center;"></td>
<td><code>true</code></td>
</tr>
<tr>
<td>url_style</td>
<td>Either <code>vhost</code> or <code>path</code></td>
<td style="text-align: center;"></td>
<td><code>vhost</code></td>
</tr>
<tr>
<td>use_ssl</td>
<td>Whether to use HTTPS or HTTP</td>
<td style="text-align: center;"></td>
<td><code>true</code></td>
</tr>
<tr>
<td>kms_key_id</td>
<td>AWS KMS (Key Management Service) key for Server Side Encryption S3</td>
<td style="text-align: center;"></td>
<td></td>
</tr>
</tbody>
</table>
<p>A <code>create server</code> statement example:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:2"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">With Vault</label><label for="__tabbed_1_2">Without Vault</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">create</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">duckdb_server</span>
<span class="w">  </span><span class="k">foreign</span><span class="w"> </span><span class="k">data</span><span class="w"> </span><span class="n">wrapper</span><span class="w"> </span><span class="n">duckdb_wrapper</span>
<span class="w">  </span><span class="k">options</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="k">type</span><span class="w"> </span><span class="s1">&#39;s3&#39;</span><span class="p">,</span>

<span class="w">    </span><span class="c1">-- The key id saved in Vault</span>
<span class="w">    </span><span class="n">vault_key_id</span><span class="w"> </span><span class="s1">&#39;&lt;key_ID&gt;&#39;</span><span class="p">,</span>

<span class="w">    </span><span class="c1">-- The secret saved in Vault</span>
<span class="w">    </span><span class="n">vault_secret</span><span class="w"> </span><span class="s1">&#39;&lt;secret_key&gt;&#39;</span><span class="p">,</span>

<span class="w">    </span><span class="c1">-- AWS region</span>
<span class="w">    </span><span class="n">region</span><span class="w"> </span><span class="s1">&#39;us-east-1&#39;</span>
<span class="w">  </span><span class="p">);</span>
</code></pre></div></td></tr></table></div>
</div>
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">create</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">duckdb_server</span>
<span class="w">  </span><span class="k">foreign</span><span class="w"> </span><span class="k">data</span><span class="w"> </span><span class="n">wrapper</span><span class="w"> </span><span class="n">duckdb_wrapper</span>
<span class="w">  </span><span class="k">options</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="k">type</span><span class="w"> </span><span class="s1">&#39;s3&#39;</span><span class="p">,</span>

<span class="w">    </span><span class="c1">-- The AWS access key ID</span>
<span class="w">    </span><span class="n">key_id</span><span class="w"> </span><span class="s1">&#39;&lt;key_ID&gt;&#39;</span><span class="p">,</span>

<span class="w">    </span><span class="c1">-- The AWS secret access key</span>
<span class="w">    </span><span class="n">secret</span><span class="w"> </span><span class="s1">&#39;&lt;secret_key&gt;&#39;</span><span class="p">,</span>

<span class="w">    </span><span class="c1">-- AWS region</span>
<span class="w">    </span><span class="n">region</span><span class="w"> </span><span class="s1">&#39;us-east-1&#39;</span>
<span class="w">  </span><span class="p">);</span>
</code></pre></div></td></tr></table></div>
</div>
</div>
</div>
<p>This <code>s3</code> server type can also be used for other S3-compatible storage services such like <a href="https://supabase.com/docs/guides/storage">Supabase Storage</a>. For example,</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">create</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">duckdb_server</span>
<span class="w">  </span><span class="k">foreign</span><span class="w"> </span><span class="k">data</span><span class="w"> </span><span class="n">wrapper</span><span class="w"> </span><span class="n">duckdb_wrapper</span>
<span class="w">  </span><span class="k">options</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="k">type</span><span class="w"> </span><span class="s1">&#39;s3&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="n">key_id</span><span class="w"> </span><span class="s1">&#39;&lt;key_ID&gt;&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="n">secret</span><span class="w"> </span><span class="s1">&#39;&lt;secret_key&gt;&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="n">region</span><span class="w"> </span><span class="s1">&#39;us-east-1&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="n">url_style</span><span class="w"> </span><span class="s1">&#39;path&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="n">endpoint</span><span class="w"> </span><span class="s1">&#39;bctmhusapdbcvpetbnev.supabase.co/storage/v1/s3&#39;</span>
<span class="w">  </span><span class="p">);</span>
</code></pre></div></td></tr></table></div>
<h4 id="aws-s3-tables">AWS S3 Tables</h4>
<table>
<thead>
<tr>
<th>Server Option</th>
<th>Description</th>
<th style="text-align: center;">Required</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td>type</td>
<td>Server type, must be <code>s3_tables</code></td>
<td style="text-align: center;">Y</td>
<td></td>
</tr>
<tr>
<td>key_id</td>
<td>The ID of the key to use</td>
<td style="text-align: center;">Y</td>
<td></td>
</tr>
<tr>
<td>secret</td>
<td>The secret of the key to use</td>
<td style="text-align: center;">Y</td>
<td></td>
</tr>
<tr>
<td>s3_tables_arn</td>
<td>S3 Tables ARN (available in the AWS Management Console)</td>
<td style="text-align: center;">Y</td>
<td></td>
</tr>
<tr>
<td>region</td>
<td>The region for which to authenticate</td>
<td style="text-align: center;"></td>
<td><code>us-east-1</code></td>
</tr>
</tbody>
</table>
<p>A <code>create server</code> statement example:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="2:2"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><input id="__tabbed_2_2" name="__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="__tabbed_2_1">With Vault</label><label for="__tabbed_2_2">Without Vault</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">create</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">duckdb_server</span>
<span class="w">  </span><span class="k">foreign</span><span class="w"> </span><span class="k">data</span><span class="w"> </span><span class="n">wrapper</span><span class="w"> </span><span class="n">duckdb_wrapper</span>
<span class="w">  </span><span class="k">options</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="k">type</span><span class="w"> </span><span class="s1">&#39;s3_tables&#39;</span><span class="p">,</span>

<span class="w">    </span><span class="c1">-- The key id saved in Vault</span>
<span class="w">    </span><span class="n">vault_key_id</span><span class="w"> </span><span class="s1">&#39;&lt;key_ID&gt;&#39;</span><span class="p">,</span>

<span class="w">    </span><span class="c1">-- The secret saved in Vault</span>
<span class="w">    </span><span class="n">vault_secret</span><span class="w"> </span><span class="s1">&#39;&lt;secret_key&gt;&#39;</span><span class="p">,</span>

<span class="w">    </span><span class="c1">-- AWS region</span>
<span class="w">    </span><span class="n">region</span><span class="w"> </span><span class="s1">&#39;us-east-1&#39;</span><span class="p">,</span>

<span class="w">    </span><span class="c1">-- S3 Tables ARN</span>
<span class="w">    </span><span class="n">s3_tables_arn</span><span class="w"> </span><span class="s1">&#39;arn:aws:s3tables:us-east-1:203212701384:bucket/my-bucket&#39;</span>
<span class="w">  </span><span class="p">);</span>
</code></pre></div></td></tr></table></div>
</div>
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">create</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">duckdb_server</span>
<span class="w">  </span><span class="k">foreign</span><span class="w"> </span><span class="k">data</span><span class="w"> </span><span class="n">wrapper</span><span class="w"> </span><span class="n">duckdb_wrapper</span>
<span class="w">  </span><span class="k">options</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="k">type</span><span class="w"> </span><span class="s1">&#39;s3&#39;</span><span class="p">,</span>

<span class="w">    </span><span class="c1">-- The AWS access key ID</span>
<span class="w">    </span><span class="n">key_id</span><span class="w"> </span><span class="s1">&#39;&lt;key_ID&gt;&#39;</span><span class="p">,</span>

<span class="w">    </span><span class="c1">-- The AWS secret access key</span>
<span class="w">    </span><span class="n">secret</span><span class="w"> </span><span class="s1">&#39;&lt;secret_key&gt;&#39;</span><span class="p">,</span>

<span class="w">    </span><span class="c1">-- AWS region</span>
<span class="w">    </span><span class="n">region</span><span class="w"> </span><span class="s1">&#39;us-east-1&#39;</span><span class="p">,</span>

<span class="w">    </span><span class="c1">-- S3 Tables ARN</span>
<span class="w">    </span><span class="n">s3_tables_arn</span><span class="w"> </span><span class="s1">&#39;arn:aws:s3tables:us-east-1:203212701384:bucket/my-bucket&#39;</span>
<span class="w">  </span><span class="p">);</span>
</code></pre></div></td></tr></table></div>
</div>
</div>
</div>
<h4 id="cloudflare-r2">Cloudflare R2</h4>
<p>This is to access <a href="https://developers.cloudflare.com/r2/">Cloudflare R2</a> using the <a href="https://developers.cloudflare.com/r2/api/s3/api/">S3 Compatibility API</a>.</p>
<table>
<thead>
<tr>
<th>Server Option</th>
<th>Description</th>
<th style="text-align: center;">Required</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td>type</td>
<td>Server type, must be <code>r2</code></td>
<td style="text-align: center;">Y</td>
<td></td>
</tr>
<tr>
<td>key_id</td>
<td>The ID of the key to use</td>
<td style="text-align: center;">Y</td>
<td></td>
</tr>
<tr>
<td>secret</td>
<td>The secret of the key to use</td>
<td style="text-align: center;">Y</td>
<td></td>
</tr>
<tr>
<td>account_id</td>
<td>The account ID to use</td>
<td style="text-align: center;">Y</td>
<td></td>
</tr>
</tbody>
</table>
<p>A <code>create server</code> statement example:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="3:2"><input checked="checked" id="__tabbed_3_1" name="__tabbed_3" type="radio" /><input id="__tabbed_3_2" name="__tabbed_3" type="radio" /><div class="tabbed-labels"><label for="__tabbed_3_1">With Vault</label><label for="__tabbed_3_2">Without Vault</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">create</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">duckdb_server</span>
<span class="w">  </span><span class="k">foreign</span><span class="w"> </span><span class="k">data</span><span class="w"> </span><span class="n">wrapper</span><span class="w"> </span><span class="n">duckdb_wrapper</span>
<span class="w">  </span><span class="k">options</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="k">type</span><span class="w"> </span><span class="s1">&#39;r2&#39;</span><span class="p">,</span>

<span class="w">    </span><span class="c1">-- The key id saved in Vault</span>
<span class="w">    </span><span class="n">vault_key_id</span><span class="w"> </span><span class="s1">&#39;&lt;key_ID&gt;&#39;</span><span class="p">,</span>

<span class="w">    </span><span class="c1">-- The secret saved in Vault</span>
<span class="w">    </span><span class="n">vault_secret</span><span class="w"> </span><span class="s1">&#39;&lt;secret_key&gt;&#39;</span><span class="p">,</span>

<span class="w">    </span><span class="c1">-- Account ID</span>
<span class="w">    </span><span class="n">account_id</span><span class="w"> </span><span class="s1">&#39;&lt;account_ID&gt;&#39;</span>
<span class="w">  </span><span class="p">);</span>
</code></pre></div></td></tr></table></div>
</div>
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">create</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">duckdb_server</span>
<span class="w">  </span><span class="k">foreign</span><span class="w"> </span><span class="k">data</span><span class="w"> </span><span class="n">wrapper</span><span class="w"> </span><span class="n">duckdb_wrapper</span>
<span class="w">  </span><span class="k">options</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="k">type</span><span class="w"> </span><span class="s1">&#39;r2&#39;</span><span class="p">,</span>

<span class="w">    </span><span class="c1">-- The access key ID</span>
<span class="w">    </span><span class="n">key_id</span><span class="w"> </span><span class="s1">&#39;&lt;key_ID&gt;&#39;</span><span class="p">,</span>

<span class="w">    </span><span class="c1">-- The secret access key</span>
<span class="w">    </span><span class="n">secret</span><span class="w"> </span><span class="s1">&#39;&lt;secret_key&gt;&#39;</span><span class="p">,</span>

<span class="w">    </span><span class="c1">-- Account ID</span>
<span class="w">    </span><span class="n">account_id</span><span class="w"> </span><span class="s1">&#39;&lt;account_ID&gt;&#39;</span>
<span class="w">  </span><span class="p">);</span>
</code></pre></div></td></tr></table></div>
</div>
</div>
</div>
<h4 id="cloudflare-r2-data-catalog">Cloudflare R2 Data Catalog</h4>
<p>This is to access <a href="https://developers.cloudflare.com/r2/data-catalog/">Cloudflare R2 Data Catalog</a>.</p>
<table>
<thead>
<tr>
<th>Server Option</th>
<th>Description</th>
<th style="text-align: center;">Required</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td>type</td>
<td>Server type, must be <code>r2_catalog</code></td>
<td style="text-align: center;">Y</td>
<td></td>
</tr>
<tr>
<td>token</td>
<td>The R2 API token to use</td>
<td style="text-align: center;">Y</td>
<td></td>
</tr>
<tr>
<td>warehouse</td>
<td>Warehouse name in R2 Data Catalog</td>
<td style="text-align: center;">Y</td>
<td></td>
</tr>
<tr>
<td>catalog_uri</td>
<td>R2 Data Catalog URI</td>
<td style="text-align: center;">Y</td>
<td></td>
</tr>
</tbody>
</table>
<p>A <code>create server</code> statement example:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="4:2"><input checked="checked" id="__tabbed_4_1" name="__tabbed_4" type="radio" /><input id="__tabbed_4_2" name="__tabbed_4" type="radio" /><div class="tabbed-labels"><label for="__tabbed_4_1">With Vault</label><label for="__tabbed_4_2">Without Vault</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">create</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">duckdb_server</span>
<span class="w">  </span><span class="k">foreign</span><span class="w"> </span><span class="k">data</span><span class="w"> </span><span class="n">wrapper</span><span class="w"> </span><span class="n">duckdb_wrapper</span>
<span class="w">  </span><span class="k">options</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="k">type</span><span class="w"> </span><span class="s1">&#39;r2_catalog&#39;</span><span class="p">,</span>

<span class="w">    </span><span class="c1">-- The R2 API token saved in Vault</span>
<span class="w">    </span><span class="n">vault_token</span><span class="w"> </span><span class="s1">&#39;&lt;token&gt;&#39;</span><span class="p">,</span>

<span class="w">    </span><span class="c1">-- Warehouse name</span>
<span class="w">    </span><span class="n">warehouse</span><span class="w"> </span><span class="s1">&#39;my_warehouse&#39;</span><span class="p">,</span>

<span class="w">    </span><span class="c1">-- R2 Data Catalog URI</span>
<span class="w">    </span><span class="n">catalog_uri</span><span class="w"> </span><span class="s1">&#39;catalog.cloudflarestorage.com/1a4d06e707l56a1a724719292be42e3a/r2-data-catalog&#39;</span>
<span class="w">  </span><span class="p">);</span>
</code></pre></div></td></tr></table></div>
</div>
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">create</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">duckdb_server</span>
<span class="w">  </span><span class="k">foreign</span><span class="w"> </span><span class="k">data</span><span class="w"> </span><span class="n">wrapper</span><span class="w"> </span><span class="n">duckdb_wrapper</span>
<span class="w">  </span><span class="k">options</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="k">type</span><span class="w"> </span><span class="s1">&#39;r2_catalog&#39;</span><span class="p">,</span>

<span class="w">    </span><span class="c1">-- R2 API token</span>
<span class="w">    </span><span class="n">token</span><span class="w"> </span><span class="s1">&#39;&lt;token&gt;&#39;</span><span class="p">,</span>

<span class="w">    </span><span class="c1">-- Warehouse name</span>
<span class="w">    </span><span class="n">warehouse</span><span class="w"> </span><span class="s1">&#39;my_warehouse&#39;</span><span class="p">,</span>

<span class="w">    </span><span class="c1">-- R2 Data Catalog URI</span>
<span class="w">    </span><span class="n">catalog_uri</span><span class="w"> </span><span class="s1">&#39;catalog.cloudflarestorage.com/1a4d06e707l56a1a724719292be42e3a/r2-data-catalog&#39;</span>
<span class="w">  </span><span class="p">);</span>
</code></pre></div></td></tr></table></div>
</div>
</div>
</div>
<h4 id="apache-polaris">Apache Polaris</h4>
<p>This is to access <a href="https://polaris.apache.org/">Apache Polaris</a> Iceberg service.</p>
<table>
<thead>
<tr>
<th>Server Option</th>
<th>Description</th>
<th style="text-align: center;">Required</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td>type</td>
<td>Server type, must be <code>polaris</code></td>
<td style="text-align: center;">Y</td>
<td></td>
</tr>
<tr>
<td>client_id</td>
<td>The client ID to use</td>
<td style="text-align: center;">Y</td>
<td></td>
</tr>
<tr>
<td>client_secret</td>
<td>The client secret to use</td>
<td style="text-align: center;">Y</td>
<td></td>
</tr>
<tr>
<td>warehouse</td>
<td>Warehouse name</td>
<td style="text-align: center;">Y</td>
<td></td>
</tr>
<tr>
<td>catalog_uri</td>
<td>Polaris REST Catalog URI</td>
<td style="text-align: center;">Y</td>
<td></td>
</tr>
</tbody>
</table>
<p>A <code>create server</code> statement example:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="5:2"><input checked="checked" id="__tabbed_5_1" name="__tabbed_5" type="radio" /><input id="__tabbed_5_2" name="__tabbed_5" type="radio" /><div class="tabbed-labels"><label for="__tabbed_5_1">With Vault</label><label for="__tabbed_5_2">Without Vault</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">create</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">duckdb_server</span>
<span class="w">  </span><span class="k">foreign</span><span class="w"> </span><span class="k">data</span><span class="w"> </span><span class="n">wrapper</span><span class="w"> </span><span class="n">duckdb_wrapper</span>
<span class="w">  </span><span class="k">options</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="k">type</span><span class="w"> </span><span class="s1">&#39;polaris&#39;</span><span class="p">,</span>

<span class="w">    </span><span class="c1">-- The client id saved in Vault</span>
<span class="w">    </span><span class="n">vault_client_id</span><span class="w"> </span><span class="s1">&#39;&lt;client_id&gt;&#39;</span><span class="p">,</span>

<span class="w">    </span><span class="c1">-- The client secret in Vault</span>
<span class="w">    </span><span class="n">vault_client_secret</span><span class="w"> </span><span class="s1">&#39;&lt;secret&gt;&#39;</span><span class="p">,</span>

<span class="w">    </span><span class="c1">-- Warehouse name</span>
<span class="w">    </span><span class="n">warehouse</span><span class="w"> </span><span class="s1">&#39;quickstart_catalog&#39;</span><span class="p">,</span>

<span class="w">    </span><span class="c1">-- Polaris REST Catalog URI</span>
<span class="w">    </span><span class="n">catalog_uri</span><span class="w"> </span><span class="s1">&#39;&lt;polaris_rest_catalog_endpoint&gt;&#39;</span>
<span class="w">  </span><span class="p">);</span>
</code></pre></div></td></tr></table></div>
</div>
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">create</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">duckdb_server</span>
<span class="w">  </span><span class="k">foreign</span><span class="w"> </span><span class="k">data</span><span class="w"> </span><span class="n">wrapper</span><span class="w"> </span><span class="n">duckdb_wrapper</span>
<span class="w">  </span><span class="k">options</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="k">type</span><span class="w"> </span><span class="s1">&#39;polaris&#39;</span><span class="p">,</span>

<span class="w">    </span><span class="c1">-- The client id</span>
<span class="w">    </span><span class="n">client_id</span><span class="w"> </span><span class="s1">&#39;&lt;client_id&gt;&#39;</span><span class="p">,</span>

<span class="w">    </span><span class="c1">-- The client secret</span>
<span class="w">    </span><span class="n">client_secret</span><span class="w"> </span><span class="s1">&#39;&lt;secret&gt;&#39;</span><span class="p">,</span>

<span class="w">    </span><span class="c1">-- Warehouse name</span>
<span class="w">    </span><span class="n">warehouse</span><span class="w"> </span><span class="s1">&#39;quickstart_catalog&#39;</span><span class="p">,</span>

<span class="w">    </span><span class="c1">-- Polaris REST Catalog URI</span>
<span class="w">    </span><span class="n">catalog_uri</span><span class="w"> </span><span class="s1">&#39;&lt;polaris_rest_catalog_endpoint&gt;&#39;</span>
<span class="w">  </span><span class="p">);</span>
</code></pre></div></td></tr></table></div>
</div>
</div>
</div>
<h4 id="lakekeeper">Lakekeeper</h4>
<p>This is to access <a href="https://docs.lakekeeper.io/">Lakekeeper</a> Iceberg service.</p>
<table>
<thead>
<tr>
<th>Server Option</th>
<th>Description</th>
<th style="text-align: center;">Required</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td>type</td>
<td>Server type, must be <code>lakekeeper</code></td>
<td style="text-align: center;">Y</td>
<td></td>
</tr>
<tr>
<td>client_id</td>
<td>The client ID to use</td>
<td style="text-align: center;">Y</td>
<td></td>
</tr>
<tr>
<td>client_secret</td>
<td>The client secret to use</td>
<td style="text-align: center;">Y</td>
<td></td>
</tr>
<tr>
<td>oauth2_scope</td>
<td>OAuth2 authentication scope</td>
<td style="text-align: center;">Y</td>
<td></td>
</tr>
<tr>
<td>oauth2_server_uri</td>
<td>Lakekeeper OAuth2 authentication URI</td>
<td style="text-align: center;">Y</td>
<td></td>
</tr>
<tr>
<td>warehouse</td>
<td>Warehouse name</td>
<td style="text-align: center;">Y</td>
<td></td>
</tr>
<tr>
<td>catalog_uri</td>
<td>Lakekeeper REST Catalog URI</td>
<td style="text-align: center;">Y</td>
<td></td>
</tr>
</tbody>
</table>
<p>A <code>create server</code> statement example:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="6:2"><input checked="checked" id="__tabbed_6_1" name="__tabbed_6" type="radio" /><input id="__tabbed_6_2" name="__tabbed_6" type="radio" /><div class="tabbed-labels"><label for="__tabbed_6_1">With Vault</label><label for="__tabbed_6_2">Without Vault</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">create</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">duckdb_server</span>
<span class="w">  </span><span class="k">foreign</span><span class="w"> </span><span class="k">data</span><span class="w"> </span><span class="n">wrapper</span><span class="w"> </span><span class="n">duckdb_wrapper</span>
<span class="w">  </span><span class="k">options</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="k">type</span><span class="w"> </span><span class="s1">&#39;lakekeeper&#39;</span><span class="p">,</span>

<span class="w">    </span><span class="c1">-- The client id saved in Vault</span>
<span class="w">    </span><span class="n">vault_client_id</span><span class="w"> </span><span class="s1">&#39;&lt;client_id&gt;&#39;</span><span class="p">,</span>

<span class="w">    </span><span class="c1">-- The client secret in Vault</span>
<span class="w">    </span><span class="n">vault_client_secret</span><span class="w"> </span><span class="s1">&#39;&lt;secret&gt;&#39;</span><span class="p">,</span>

<span class="w">    </span><span class="c1">-- OAuth2 authentication settings</span>
<span class="w">    </span><span class="n">oauth2_scope</span><span class="w"> </span><span class="s1">&#39;lakekeeper&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="n">oauth2_server_uri</span><span class="w"> </span><span class="s1">&#39;http://keycloak:8080/realms/iceberg/protocol/openid-connect/token&#39;</span>

<span class="w">    </span><span class="c1">-- Warehouse name</span>
<span class="w">    </span><span class="n">warehouse</span><span class="w"> </span><span class="s1">&#39;warehouse&#39;</span><span class="p">,</span>

<span class="w">    </span><span class="n">use_ssl</span><span class="w"> </span><span class="s1">&#39;false&#39;</span><span class="p">,</span>

<span class="w">    </span><span class="c1">-- Lakekeeper REST Catalog URI</span>
<span class="w">    </span><span class="n">catalog_uri</span><span class="w"> </span><span class="s1">&#39;lakekeeper:8181/catalog&#39;</span>
<span class="w">  </span><span class="p">);</span>
</code></pre></div></td></tr></table></div>
</div>
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">create</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">duckdb_server</span>
<span class="w">  </span><span class="k">foreign</span><span class="w"> </span><span class="k">data</span><span class="w"> </span><span class="n">wrapper</span><span class="w"> </span><span class="n">duckdb_wrapper</span>
<span class="w">  </span><span class="k">options</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="k">type</span><span class="w"> </span><span class="s1">&#39;lakekeeper&#39;</span><span class="p">,</span>

<span class="w">    </span><span class="c1">-- The client id</span>
<span class="w">    </span><span class="n">client_id</span><span class="w"> </span><span class="s1">&#39;&lt;client_id&gt;&#39;</span><span class="p">,</span>

<span class="w">    </span><span class="c1">-- The client secret</span>
<span class="w">    </span><span class="n">client_secret</span><span class="w"> </span><span class="s1">&#39;&lt;secret&gt;&#39;</span><span class="p">,</span>

<span class="w">    </span><span class="c1">-- OAuth2 authentication settings</span>
<span class="w">    </span><span class="n">oauth2_scope</span><span class="w"> </span><span class="s1">&#39;lakekeeper&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="n">oauth2_server_uri</span><span class="w"> </span><span class="s1">&#39;http://keycloak:8080/realms/iceberg/protocol/openid-connect/token&#39;</span>

<span class="w">    </span><span class="c1">-- Warehouse name</span>
<span class="w">    </span><span class="n">warehouse</span><span class="w"> </span><span class="s1">&#39;warehouse&#39;</span><span class="p">,</span>

<span class="w">    </span><span class="n">use_ssl</span><span class="w"> </span><span class="s1">&#39;false&#39;</span><span class="p">,</span>

<span class="w">    </span><span class="c1">-- Lakekeeper REST Catalog URI</span>
<span class="w">    </span><span class="n">catalog_uri</span><span class="w"> </span><span class="s1">&#39;lakekeeper:8181/catalog&#39;</span>
<span class="w">  </span><span class="p">);</span>
</code></pre></div></td></tr></table></div>
</div>
</div>
</div>
<h4 id="iceberg">Iceberg</h4>
<p>This is to access generic Iceberg services. Check above for other specific Iceberg services like <a href="#aws-s3-tables">S3 Tables</a>, <a href="#cloudflare-r2-data-catalog">R2 Data Catalog</a> and etc. All the <a href="#aws-s3">S3</a> options are supported with below additional options.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Reading from Iceberg REST Catalogs backed by remote storage that is not S3 or S3 compatible is not supported yet.</p>
</div>
<table>
<thead>
<tr>
<th>Server Option</th>
<th>Description</th>
<th style="text-align: center;">Required</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td>type</td>
<td>Server type, must be <code>iceberg</code></td>
<td style="text-align: center;">Y</td>
<td></td>
</tr>
<tr>
<td>warehouse</td>
<td>Warehouse name</td>
<td style="text-align: center;">Y</td>
<td></td>
</tr>
<tr>
<td>catalog_uri</td>
<td>REST Catalog URI</td>
<td style="text-align: center;">Y</td>
<td></td>
</tr>
<tr>
<td>token</td>
<td>The API token to use</td>
<td style="text-align: center;"></td>
<td></td>
</tr>
<tr>
<td>client_id</td>
<td>The client ID to use</td>
<td style="text-align: center;"></td>
<td></td>
</tr>
<tr>
<td>client_secret</td>
<td>The client secret to use</td>
<td style="text-align: center;"></td>
<td></td>
</tr>
<tr>
<td>oauth2_scope</td>
<td>OAuth2 authentication scope</td>
<td style="text-align: center;"></td>
<td></td>
</tr>
<tr>
<td>oauth2_server_uri</td>
<td>OAuth2 authentication URI</td>
<td style="text-align: center;"></td>
<td></td>
</tr>
</tbody>
</table>
<p>A <code>create server</code> statement example used to access local Iceberg service:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="7:2"><input checked="checked" id="__tabbed_7_1" name="__tabbed_7" type="radio" /><input id="__tabbed_7_2" name="__tabbed_7" type="radio" /><div class="tabbed-labels"><label for="__tabbed_7_1">With Vault</label><label for="__tabbed_7_2">Without Vault</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">create</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">duckdb_server</span>
<span class="w">  </span><span class="k">foreign</span><span class="w"> </span><span class="k">data</span><span class="w"> </span><span class="n">wrapper</span><span class="w"> </span><span class="n">duckdb_wrapper</span>
<span class="w">  </span><span class="k">options</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="k">type</span><span class="w"> </span><span class="s1">&#39;iceberg&#39;</span><span class="p">,</span>

<span class="w">    </span><span class="c1">-- The key id saved in Vault</span>
<span class="w">    </span><span class="n">vault_key_id</span><span class="w"> </span><span class="s1">&#39;&lt;key_ID&gt;&#39;</span><span class="p">,</span>

<span class="w">    </span><span class="c1">-- The secret saved in Vault</span>
<span class="w">    </span><span class="n">vault_secret</span><span class="w"> </span><span class="s1">&#39;&lt;secret_key&gt;&#39;</span><span class="p">,</span>

<span class="w">    </span><span class="c1">-- AWS region</span>
<span class="w">    </span><span class="n">region</span><span class="w"> </span><span class="s1">&#39;us-east-1&#39;</span><span class="p">,</span>

<span class="w">    </span><span class="c1">-- S3 access settings</span>
<span class="w">    </span><span class="n">endpoint</span><span class="w"> </span><span class="s1">&#39;localhost:8000&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="n">url_style</span><span class="w"> </span><span class="s1">&#39;path&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="n">use_ssl</span><span class="w"> </span><span class="s1">&#39;false&#39;</span><span class="p">,</span>

<span class="w">    </span><span class="c1">-- a dummy access token</span>
<span class="w">    </span><span class="n">token</span><span class="w"> </span><span class="s1">&#39;dummy&#39;</span><span class="p">,</span>

<span class="w">    </span><span class="c1">-- Warehouse name</span>
<span class="w">    </span><span class="n">warehouse</span><span class="w"> </span><span class="s1">&#39;warehouse&#39;</span><span class="p">,</span>

<span class="w">    </span><span class="c1">-- REST Catalog URI</span>
<span class="w">    </span><span class="n">catalog_uri</span><span class="w"> </span><span class="s1">&#39;localhost:8181&#39;</span>
<span class="w">  </span><span class="p">);</span>
</code></pre></div></td></tr></table></div>
</div>
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">create</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">duckdb_server</span>
<span class="w">  </span><span class="k">foreign</span><span class="w"> </span><span class="k">data</span><span class="w"> </span><span class="n">wrapper</span><span class="w"> </span><span class="n">duckdb_wrapper</span>
<span class="w">  </span><span class="k">options</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="k">type</span><span class="w"> </span><span class="s1">&#39;iceberg&#39;</span><span class="p">,</span>

<span class="w">    </span><span class="c1">-- The AWS access key ID</span>
<span class="w">    </span><span class="n">key_id</span><span class="w"> </span><span class="s1">&#39;&lt;key_ID&gt;&#39;</span><span class="p">,</span>

<span class="w">    </span><span class="c1">-- The AWS secret access key</span>
<span class="w">    </span><span class="n">secret</span><span class="w"> </span><span class="s1">&#39;&lt;secret_key&gt;&#39;</span><span class="p">,</span>

<span class="w">    </span><span class="c1">-- AWS region</span>
<span class="w">    </span><span class="n">region</span><span class="w"> </span><span class="s1">&#39;us-east-1&#39;</span><span class="p">,</span>

<span class="w">    </span><span class="c1">-- S3 access settings</span>
<span class="w">    </span><span class="n">endpoint</span><span class="w"> </span><span class="s1">&#39;localhost:8000&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="n">url_style</span><span class="w"> </span><span class="s1">&#39;path&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="n">use_ssl</span><span class="w"> </span><span class="s1">&#39;false&#39;</span><span class="p">,</span>

<span class="w">    </span><span class="c1">-- a dummy access token</span>
<span class="w">    </span><span class="n">token</span><span class="w"> </span><span class="s1">&#39;dummy&#39;</span><span class="p">,</span>

<span class="w">    </span><span class="c1">-- Warehouse name</span>
<span class="w">    </span><span class="n">warehouse</span><span class="w"> </span><span class="s1">&#39;warehouse&#39;</span><span class="p">,</span>

<span class="w">    </span><span class="c1">-- REST Catalog URI</span>
<span class="w">    </span><span class="n">catalog_uri</span><span class="w"> </span><span class="s1">&#39;localhost:8181&#39;</span>
<span class="w">  </span><span class="p">);</span>
</code></pre></div></td></tr></table></div>
</div>
</div>
</div>
<h4 id="motherduck">MotherDuck</h4>
<p>This is to access <a href="https://motherduck.com/">MotherDuck</a>, a cloud-hosted DuckDB service.</p>
<table>
<thead>
<tr>
<th>Server Option</th>
<th>Description</th>
<th style="text-align: center;">Required</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td>type</td>
<td>Server type, must be <code>md</code></td>
<td style="text-align: center;">Y</td>
<td></td>
</tr>
<tr>
<td>database</td>
<td>The MotherDuck database name to use</td>
<td style="text-align: center;">Y</td>
<td></td>
</tr>
<tr>
<td>motherduck_token</td>
<td>The MotherDuck access token</td>
<td style="text-align: center;">Y</td>
<td></td>
</tr>
</tbody>
</table>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>To obtain a MotherDuck access token, visit <a href="https://app.motherduck.com/settings/tokens">https://app.motherduck.com/settings/tokens</a> in your browser and create a new token.</p>
</div>
<p>A <code>create server</code> statement example:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="8:2"><input checked="checked" id="__tabbed_8_1" name="__tabbed_8" type="radio" /><input id="__tabbed_8_2" name="__tabbed_8" type="radio" /><div class="tabbed-labels"><label for="__tabbed_8_1">With Vault</label><label for="__tabbed_8_2">Without Vault</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">create</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">duckdb_server</span>
<span class="w">  </span><span class="k">foreign</span><span class="w"> </span><span class="k">data</span><span class="w"> </span><span class="n">wrapper</span><span class="w"> </span><span class="n">duckdb_wrapper</span>
<span class="w">  </span><span class="k">options</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="k">type</span><span class="w"> </span><span class="s1">&#39;md&#39;</span><span class="p">,</span>

<span class="w">    </span><span class="c1">-- The database name</span>
<span class="w">    </span><span class="k">database</span><span class="w"> </span><span class="s1">&#39;my_db&#39;</span><span class="p">,</span>

<span class="w">    </span><span class="c1">-- The MotherDuck token saved in Vault</span>
<span class="w">    </span><span class="n">vault_motherduck_token</span><span class="w"> </span><span class="s1">&#39;&lt;token&gt;&#39;</span>
<span class="w">  </span><span class="p">);</span>
</code></pre></div></td></tr></table></div>
</div>
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">create</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">duckdb_server</span>
<span class="w">  </span><span class="k">foreign</span><span class="w"> </span><span class="k">data</span><span class="w"> </span><span class="n">wrapper</span><span class="w"> </span><span class="n">duckdb_wrapper</span>
<span class="w">  </span><span class="k">options</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="k">type</span><span class="w"> </span><span class="s1">&#39;md&#39;</span><span class="p">,</span>

<span class="w">    </span><span class="c1">-- The database name</span>
<span class="w">    </span><span class="k">database</span><span class="w"> </span><span class="s1">&#39;my_db&#39;</span><span class="p">,</span>

<span class="w">    </span><span class="c1">-- The MotherDuck access token</span>
<span class="w">    </span><span class="n">motherduck_token</span><span class="w"> </span><span class="s1">&#39;&lt;token&gt;&#39;</span>
<span class="w">  </span><span class="p">);</span>
</code></pre></div></td></tr></table></div>
</div>
</div>
</div>
<h3 id="create-a-schema">Create a schema</h3>
<p>We recommend creating a schema to hold all the foreign tables:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">create</span><span class="w"> </span><span class="k">schema</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">exists</span><span class="w"> </span><span class="n">duckdb</span><span class="p">;</span>
</code></pre></div></td></tr></table></div>
<h2 id="options">Options</h2>
<p>The full list of foreign table options are below:</p>
<ul>
<li><code>table</code> - Fully qualified source table name in DuckDB, required.</li>
</ul>
<p>This can also be a subquery enclosed in parentheses, for example,</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">table</span><span class="w"> </span><span class="s1">&#39;(select * from my_table)&#39;</span>
</code></pre></div></td></tr></table></div>
<p>or, an URI points to remote file or a function (with corresponding type of server),</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">table</span><span class="w"> </span><span class="s1">&#39;&#39;&#39;s3://my_bucket/products.parquet&#39;&#39;&#39;</span>
</code></pre></div></td></tr></table></div>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">table</span><span class="w"> </span><span class="s1">&#39;read_json(&#39;&#39;s3://my_bucket/products.json&#39;&#39;)&#39;</span>
</code></pre></div></td></tr></table></div>
<h2 id="entities">Entities</h2>
<p>We can use SQL <a href="https://www.postgresql.org/docs/current/sql-importforeignschema.html">import foreign schema</a> to import foreign table definitions from DuckDB.</p>
<p>For example, using below SQL can automatically create foreign tables in the <code>duckdb</code> schema.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1">-- create all the foreign tables from Iceberg &quot;docs_example&quot; namespace</span>
<span class="n">import</span><span class="w"> </span><span class="k">foreign</span><span class="w"> </span><span class="k">schema</span><span class="w"> </span><span class="ss">&quot;docs_example&quot;</span>
<span class="w">  </span><span class="k">from</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">duckdb_server</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">duckdb</span><span class="p">;</span>

<span class="c1">-- or, only create &quot;readme&quot; and &quot;guides&quot; foreign tables</span>
<span class="n">import</span><span class="w"> </span><span class="k">foreign</span><span class="w"> </span><span class="k">schema</span><span class="w"> </span><span class="ss">&quot;docs_example&quot;</span>
<span class="w">  </span><span class="k">limit</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;readme&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;guides&quot;</span><span class="p">)</span>
<span class="w">  </span><span class="k">from</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">duckdb_server</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">duckdb</span><span class="p">;</span>

<span class="c1">-- or, create all foreign tables except &quot;readme&quot;</span>
<span class="n">import</span><span class="w"> </span><span class="k">foreign</span><span class="w"> </span><span class="k">schema</span><span class="w"> </span><span class="ss">&quot;docs_example&quot;</span>
<span class="w">  </span><span class="k">except</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;readme&quot;</span><span class="p">)</span>
<span class="w">  </span><span class="k">from</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">duckdb_server</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">duckdb</span><span class="p">;</span>
</code></pre></div></td></tr></table></div>
<p>Currently only MotherDuck and Iceberg-like servers, such as S3 Tables, R2 Data Catalog and etc., support <code>import foreign schema</code> without specifying source tables. For other types of servers, source tables must be explicitly specified in options. For example,</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1">-- &#39;duckdb_server_md&#39; server type is &#39;md&#39;, all tables under &#39;main&#39; schema</span>
<span class="c1">-- will be imported from MotherDuck automatically</span>
<span class="n">import</span><span class="w"> </span><span class="k">foreign</span><span class="w"> </span><span class="k">schema</span><span class="w"> </span><span class="ss">&quot;main&quot;</span>
<span class="w">  </span><span class="k">from</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">duckdb_server_md</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">duckdb</span><span class="p">;</span>

<span class="c1">-- &#39;duckdb_server_s3_tables&#39; server type is &#39;s3_tables&#39;, all tables</span>
<span class="c1">-- under &#39;docs_example&#39; namespace will be imported automatically</span>
<span class="n">import</span><span class="w"> </span><span class="k">foreign</span><span class="w"> </span><span class="k">schema</span><span class="w"> </span><span class="ss">&quot;docs_example&quot;</span>
<span class="w">  </span><span class="k">from</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">duckdb_server_s3_tables</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">duckdb</span><span class="p">;</span>

<span class="c1">-- &#39;duckdb_server_s3&#39; server type is &#39;s3&#39;, source tables to be imported</span>
<span class="c1">-- must be specified explicitly</span>
<span class="n">import</span><span class="w"> </span><span class="k">foreign</span><span class="w"> </span><span class="k">schema</span><span class="w"> </span><span class="n">s3</span>
<span class="w">  </span><span class="k">from</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">duckdb_server_s3</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">duckdb</span>
<span class="w">  </span><span class="k">options</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">tables</span><span class="w"> </span><span class="s1">&#39;</span>
<span class="s1">      s3://my_bucket/products.parquet,</span>
<span class="s1">      s3://my_bucket/users.json</span>
<span class="s1">    &#39;</span>
<span class="w">  </span><span class="p">);</span>
</code></pre></div></td></tr></table></div>
<p>The imported table name format from Iceberg-like server is:</p>
<ul>
<li><code>&lt;server_type&gt;_&lt;schema_name&gt;_&lt;table_name&gt;</code></li>
</ul>
<p>For example, the above statement will import a table name <code>s3_tables_docs_example_guides</code>.</p>
<p>For other types of server with explicitly specified sources tables, the imported foreign table names have the schema and sequence number as prefix with this format:</p>
<ul>
<li><code>&lt;schema_name&gt;_&lt;sequence_number&gt;_&lt;filename_stem&gt;</code></li>
</ul>
<p>For example, by using belew statement,</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="n">import</span><span class="w"> </span><span class="k">foreign</span><span class="w"> </span><span class="k">schema</span><span class="w"> </span><span class="n">s3</span>
<span class="w">  </span><span class="k">from</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">duckdb_server_s3</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">duckdb</span>
<span class="w">  </span><span class="k">options</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">tables</span><span class="w"> </span><span class="s1">&#39;</span>
<span class="s1">      s3://my_bucket/products.parquet,</span>
<span class="s1">      s3://my_bucket/users.json</span>
<span class="s1">    &#39;</span>
<span class="w">  </span><span class="p">);</span>
</code></pre></div></td></tr></table></div>
<p>The imported foreign table names are:</p>
<ul>
<li><code>s3_0_products</code></li>
<li><code>s3_1_users</code></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>By default, the <code>import foreign schema</code> statement will silently skip all the incompatible columns. Use the option <code>strict</code> to prevent this behavior. For example,</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="n">import</span><span class="w"> </span><span class="k">foreign</span><span class="w"> </span><span class="k">schema</span><span class="w"> </span><span class="ss">&quot;docs_example&quot;</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">duckdb_server</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">duckdb</span>
<span class="k">options</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="c1">-- this will fail the &#39;import foreign schema&#39; statement when DuckDB table</span>
<span class="w">  </span><span class="c1">-- column cannot be mapped to Postgres</span>
<span class="w">  </span><span class="k">strict</span><span class="w"> </span><span class="s1">&#39;true&#39;</span>
<span class="p">);</span>
</code></pre></div></td></tr></table></div>
</div>
<h3 id="duckdb-tables">DuckDB Tables</h3>
<p>This is an object representing DuckDB table.</p>
<p>Ref: <a href="https://duckdb.org/docs/stable/sql/statements/create_table">DuckDB Table</a></p>
<h4 id="operations">Operations</h4>
<table>
<thead>
<tr>
<th>Object</th>
<th style="text-align: center;">Select</th>
<th style="text-align: center;">Insert</th>
<th style="text-align: center;">Update</th>
<th style="text-align: center;">Delete</th>
<th style="text-align: center;">Truncate</th>
</tr>
</thead>
<tbody>
<tr>
<td>table</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
</tbody>
</table>
<h4 id="usage">Usage</h4>
<p>You can manually create the foreign table like below if you did not use <code>import foreign schema</code>.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">create</span><span class="w"> </span><span class="k">foreign</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">duckdb</span><span class="p">.</span><span class="n">products</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">id</span><span class="w"> </span><span class="nb">bigint</span><span class="p">,</span>
<span class="w">  </span><span class="n">name</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">sku</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">created_at</span><span class="w"> </span><span class="k">timestamp</span>
<span class="p">)</span>
<span class="w">  </span><span class="n">server</span><span class="w"> </span><span class="n">duckdb_server</span>
<span class="w">  </span><span class="k">options</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="k">table</span><span class="w"> </span><span class="s1">&#39;&#39;&#39;s3://my_bucket/products.parquet&#39;&#39;&#39;</span>
<span class="w">  </span><span class="p">);</span>
</code></pre></div></td></tr></table></div>
<h2 id="query-pushdown-support">Query Pushdown Support</h2>
<p>This FDW supports <code>where</code>, <code>order by</code> and <code>limit</code> clause pushdown.</p>
<h2 id="supported-data-types">Supported Data Types</h2>
<table>
<thead>
<tr>
<th>Postgres Type</th>
<th>DuckDB Type</th>
</tr>
</thead>
<tbody>
<tr>
<td>boolean</td>
<td>BOOLEAN, BOOL, LOGICAL</td>
</tr>
<tr>
<td>"char"</td>
<td>TINYINT, INT1</td>
</tr>
<tr>
<td>smallint</td>
<td>SMALLINT, INT2, SHORT</td>
</tr>
<tr>
<td>real</td>
<td>FLOAT, FLOAT4, REAL</td>
</tr>
<tr>
<td>integer</td>
<td>INTEGER, INT4, INT, SIGNED</td>
</tr>
<tr>
<td>double precision</td>
<td>DOUBLE, FLOAT8</td>
</tr>
<tr>
<td>bigint</td>
<td>BIGINT, INT8, LONG</td>
</tr>
<tr>
<td>numeric</td>
<td>DECIMAL, NUMERIC</td>
</tr>
<tr>
<td>text</td>
<td>BIT, VARCHAR, CHAR, BPCHAR, TEXT, STRING</td>
</tr>
<tr>
<td>date</td>
<td>DATE</td>
</tr>
<tr>
<td>time</td>
<td>TIME</td>
</tr>
<tr>
<td>timestamp</td>
<td>TIMESTAMP, DATETIME</td>
</tr>
<tr>
<td>timestamptz</td>
<td>TIMESTAMP WITH TIME ZONE, TIMESTAMPTZ</td>
</tr>
<tr>
<td>jsonb</td>
<td>JSON, ARRAY, LIST, MAP, STRUCT, UNION</td>
</tr>
<tr>
<td>bytea</td>
<td>BLOB, BYTEA, BINARY, VARBINARY</td>
</tr>
<tr>
<td>uuid</td>
<td>UUID</td>
</tr>
</tbody>
</table>
<h2 id="limitations">Limitations</h2>
<p>This section describes important limitations and considerations when using this FDW:</p>
<ul>
<li>Only supports certain server types, which data is stored remotely</li>
<li>Only supports specific data type mappings between Postgres and DuckDB</li>
<li>Only supports read operations (no INSERT, UPDATE, DELETE, or TRUNCATE)</li>
<li>When using Iceberg REST Catalog, only supports AWS S3 (or compatible) as the storage</li>
<li>Materialized views using these foreign tables may fail during logical backups</li>
</ul>
<h2 id="examples">Examples</h2>
<h3 id="basic-example">Basic Example</h3>
<p>First, create a <code>s3</code> server:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">create</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">duckdb_server</span>
<span class="w">  </span><span class="k">foreign</span><span class="w"> </span><span class="k">data</span><span class="w"> </span><span class="n">wrapper</span><span class="w"> </span><span class="n">duckdb_wrapper</span>
<span class="w">  </span><span class="k">options</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="k">type</span><span class="w"> </span><span class="s1">&#39;s3&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="n">key_id</span><span class="w"> </span><span class="s1">&#39;&lt;AWS_access_key_ID&gt;&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="n">secret</span><span class="w"> </span><span class="s1">&#39;&lt;AWS_secret_access_key&gt;&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="n">region</span><span class="w"> </span><span class="s1">&#39;us-east-1&#39;</span>
<span class="w">  </span><span class="p">);</span>
</code></pre></div></td></tr></table></div>
<p>Then import foreign table from a parquet file and query it:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span>
<span class="normal">9</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="n">import</span><span class="w"> </span><span class="k">foreign</span><span class="w"> </span><span class="k">schema</span><span class="w"> </span><span class="n">s3</span>
<span class="w">  </span><span class="k">from</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">duckdb_server</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">duckdb</span>
<span class="w">  </span><span class="k">options</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">tables</span><span class="w"> </span><span class="s1">&#39;</span>
<span class="s1">      s3://my_bucket/products.parquet</span>
<span class="s1">    &#39;</span>
<span class="w">  </span><span class="p">);</span>

<span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">duckdb</span><span class="p">.</span><span class="n">s3_0_products</span><span class="p">;</span>
</code></pre></div></td></tr></table></div>
<p>This is the same as creating the foreign table manually like below,</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">create</span><span class="w"> </span><span class="k">foreign</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">duckdb</span><span class="p">.</span><span class="n">products</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">id</span><span class="w"> </span><span class="nb">bigint</span><span class="p">,</span>
<span class="w">  </span><span class="n">name</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">sku</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">created_at</span><span class="w"> </span><span class="k">timestamp</span>
<span class="p">)</span>
<span class="w">  </span><span class="n">server</span><span class="w"> </span><span class="n">duckdb_server</span>
<span class="w">  </span><span class="k">options</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="k">table</span><span class="w"> </span><span class="s1">&#39;&#39;&#39;s3://my_bucket/products.parquet&#39;&#39;&#39;</span>
<span class="w">  </span><span class="p">);</span>

<span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">duckdb</span><span class="p">.</span><span class="n">products</span><span class="p">;</span>
</code></pre></div></td></tr></table></div>
<h3 id="read-aws-s3-tables">Read AWS S3 Tables</h3>
<p>First, create a <code>s3_tables</code> server:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span>
<span class="normal">9</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">create</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">duckdb_server</span>
<span class="w">  </span><span class="k">foreign</span><span class="w"> </span><span class="k">data</span><span class="w"> </span><span class="n">wrapper</span><span class="w"> </span><span class="n">duckdb_wrapper</span>
<span class="w">  </span><span class="k">options</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="k">type</span><span class="w"> </span><span class="s1">&#39;s3_tables&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="n">key_id</span><span class="w"> </span><span class="s1">&#39;&lt;AWS_access_key_ID&gt;&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="n">secret</span><span class="w"> </span><span class="s1">&#39;&lt;AWS_secret_access_key&gt;&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="n">region</span><span class="w"> </span><span class="s1">&#39;us-east-1&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="n">s3_tables_arn</span><span class="w"> </span><span class="s1">&#39;arn:aws:s3tables:us-east-1:203212701384:bucket/my-bucket&#39;</span>
<span class="w">  </span><span class="p">);</span>
</code></pre></div></td></tr></table></div>
<p>Then, import all the tables in <code>docs_example</code> namespace and query it:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="n">import</span><span class="w"> </span><span class="k">foreign</span><span class="w"> </span><span class="k">schema</span><span class="w"> </span><span class="ss">&quot;docs_example&quot;</span>
<span class="w">  </span><span class="k">from</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">duckdb_server</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">duckdb</span><span class="p">;</span>

<span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">duckdb</span><span class="p">.</span><span class="n">s3_tables_docs_example_guides</span><span class="p">;</span>
</code></pre></div></td></tr></table></div>
<h3 id="read-cloudflare-r2-data-catalog">Read Cloudflare R2 Data Catalog</h3>
<p>First, follow the steps in <a href="https://developers.cloudflare.com/r2/data-catalog/get-started/">Getting Started Guide</a> to create a R2 Catalog on Cloudflare. Once it is completed, create a <code>r2_catalog</code> server like below:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">create</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">duckdb_server</span>
<span class="w">  </span><span class="k">foreign</span><span class="w"> </span><span class="k">data</span><span class="w"> </span><span class="n">wrapper</span><span class="w"> </span><span class="n">duckdb_wrapper</span>
<span class="w">  </span><span class="k">options</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="k">type</span><span class="w"> </span><span class="s1">&#39;r2_catalog&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="n">token</span><span class="w"> </span><span class="s1">&#39;&lt;R2 API token&gt;&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="n">warehouse</span><span class="w"> </span><span class="s1">&#39;2b303ef0293bc91a0217a0381af14a3e_r2-data-catalog-tutorial&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="n">catalog_uri</span><span class="w"> </span><span class="s1">&#39;catalog.cloudflarestorage.com/2b303ef0293bc91a0217a0381af14a3e/r2-data-catalog-tutorial&#39;</span>
<span class="w">  </span><span class="p">);</span>
</code></pre></div></td></tr></table></div>
<p>Then, import all the tables in <code>default</code> namespace and query it:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="n">import</span><span class="w"> </span><span class="k">foreign</span><span class="w"> </span><span class="k">schema</span><span class="w"> </span><span class="ss">&quot;default&quot;</span>
<span class="w">  </span><span class="k">from</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">duckdb_server</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">duckdb</span><span class="p">;</span>

<span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">duckdb</span><span class="p">.</span><span class="n">r2_catalog_default_people</span><span class="p">;</span>
</code></pre></div></td></tr></table></div>
<h3 id="query-pushdown-examples">Query Pushdown Examples</h3>
<p>Follow the above <a href="#read-cloudflare-r2-data-catalog">Read R2 Data Catalog example</a>, below are some query pushdown examples:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span>
<span class="normal">9</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1">-- the filter &quot;name = &#39;Alice&#39;&quot; will be pushed down to DuckDB</span>
<span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">duckdb</span><span class="p">.</span><span class="n">r2_catalog_default_people</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;Alice&#39;</span><span class="p">;</span>

<span class="c1">-- multiple filters must use logical &#39;AND&#39;</span>
<span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">duckdb</span><span class="p">.</span><span class="n">r2_catalog_default_people</span>
<span class="k">where</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;Alice&#39;</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">score</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">80</span><span class="p">;</span>

<span class="c1">-- &#39;order by&#39; and &#39;limit&#39; will be pushed down to DuckDB</span>
<span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">duckdb</span><span class="p">.</span><span class="n">r2_catalog_default_people</span><span class="w"> </span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="k">limit</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>
</code></pre></div></td></tr></table></div>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../clickhouse/" class="md-footer__link md-footer__link--prev" aria-label="Previous: ClickHouse">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                ClickHouse
              </div>
            </div>
          </a>
        
        
          
          <a href="../firebase/" class="md-footer__link md-footer__link--next" aria-label="Next: Firebase">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Firebase
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; Supabase
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
    <a href="https://x.com/supabase" target="_blank" rel="noopener" title="Supabase on Twitter" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M459.4 151.7c.3 4.5.3 9.1.3 13.6 0 138.7-105.6 298.6-298.6 298.6-59.5 0-114.7-17.2-161.1-47.1 8.4 1 16.6 1.3 25.3 1.3 49.1 0 94.2-16.6 130.3-44.8-46.1-1-84.8-31.2-98.1-72.8 6.5 1 13 1.6 19.8 1.6 9.4 0 18.8-1.3 27.6-3.6-48.1-9.7-84.1-52-84.1-103v-1.3c14 7.8 30.2 12.7 47.4 13.3-28.3-18.8-46.8-51-46.8-87.4 0-19.5 5.2-37.4 14.3-53C87.4 130.8 165 172.4 252.1 176.9c-1.6-7.8-2.6-15.9-2.6-24C249.5 95.1 296.3 48 354.4 48c30.2 0 57.5 12.7 76.7 33.1 23.7-4.5 46.5-13.3 66.6-25.3-7.8 24.4-24.4 44.8-46.1 57.8 21.1-2.3 41.6-8.1 60.4-16.2-14.3 20.8-32.2 39.3-52.6 54.3"/></svg>
    </a>
  
    
    
    
    
    <a href="https://reddit.com/r/supabase" target="_blank" rel="noopener" title="Supabase on Reddit" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M0 256C0 114.6 114.6 0 256 0s256 114.6 256 256-114.6 256-256 256H37.1c-13.7 0-20.5-16.5-10.9-26.2L75 437C28.7 390.7 0 326.7 0 256m349.6-102.4c23.6 0 42.7-19.1 42.7-42.7s-19.1-42.7-42.7-42.7c-20.6 0-37.8 14.6-41.8 34-34.5 3.7-61.4 33-61.4 68.4v.2c-37.5 1.6-71.8 12.3-99 29.1-10.1-7.8-22.8-12.5-36.5-12.5-33 0-59.8 26.8-59.8 59.8 0 24 14.1 44.6 34.4 54.1 2 69.4 77.6 125.2 170.6 125.2s168.7-55.9 170.6-125.3c20.2-9.6 34.1-30.2 34.1-54 0-33-26.8-59.8-59.8-59.8-13.7 0-26.3 4.6-36.4 12.4-27.4-17-62.1-27.7-100-29.1v-.2c0-25.4 18.9-46.5 43.4-49.9 4.4 18.8 21.3 32.8 41.5 32.8zm-172.5 93.3c16.7 0 29.5 17.6 28.5 39.3s-13.5 29.6-30.3 29.6-31.4-8.8-30.4-30.5S160.3 247 177 247zm190.1 38.3c1 21.7-13.7 30.5-30.4 30.5s-29.3-7.9-30.3-29.6 11.8-39.3 28.5-39.3 31.2 16.6 32.1 38.3zm-48.1 56.7c-10.3 24.6-34.6 41.9-63 41.9s-52.7-17.3-63-41.9c-1.2-2.9.8-6.2 3.9-6.5 18.4-1.9 38.3-2.9 59.1-2.9s40.7 1 59.1 2.9c3.1.3 5.1 3.6 3.9 6.5"/></svg>
    </a>
  
    
    
    
    
    <a href="https://github.com/supabase/wrappers" target="_blank" rel="noopener" title="Wrappers on GitHub" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["content.code.annotate", "content.code.copy", "navigation.expand", "navigation.tabs", "navigation.tabs.sticky", "navigation.sections", "navigation.indexes", "navigation.footer"], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>