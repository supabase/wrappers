
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="A PostgreSQL extension for connecting to external data sources">
      
      
        <meta name="author" content="supabase">
      
      
        <link rel="canonical" href="https://supabase.github.io/wrappers/catalog/stripe/">
      
      
        <link rel="prev" href="../s3/">
      
      
        <link rel="next" href="../mssql/">
      
      
      <link rel="icon" href="../../assets/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.31">
    
    
      
        <title>Stripe - Wrappers</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.3cba04c6.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="green" data-md-color-accent="green">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#stripe" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Wrappers" class="md-header__button md-logo" aria-label="Wrappers" data-md-component="logo">
      
  <img src="../../assets/wrappers.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Wrappers
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Stripe
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
    
      <div class="md-header__source">
        <a href="https://github.com/supabase/wrappers" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    supabase/wrappers
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../.." class="md-tabs__link">
          
  
    
  
  Home

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../" class="md-tabs__link">
          
  
    
  
  Catalog

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../guides/native-wasm/" class="md-tabs__link">
          
  
    
  
  Guides

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../contributing/core/" class="md-tabs__link">
          
  
    
  
  Contributing

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Wrappers" class="md-nav__button md-logo" aria-label="Wrappers" data-md-component="logo">
      
  <img src="../../assets/wrappers.svg" alt="logo">

    </a>
    Wrappers
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/supabase/wrappers" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    supabase/wrappers
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../.." class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Home
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            Home
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Catalog
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Catalog
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Native
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            Native
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../airtable/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Airtable
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../auth0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Auth0
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cognito/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AWS Cognito
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../bigquery/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    BigQuery
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../clickhouse/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ClickHouse
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../firebase/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Firebase
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../logflare/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Logflare
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../redis/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Redis
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../s3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    S3 (CSV, JSON, Parquet)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Stripe
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Stripe
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#preparation" class="md-nav__link">
    <span class="md-ellipsis">
      Preparation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Preparation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#enable-wrappers" class="md-nav__link">
    <span class="md-ellipsis">
      Enable Wrappers
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enable-the-stripe-wrapper" class="md-nav__link">
    <span class="md-ellipsis">
      Enable the Stripe Wrapper
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#store-your-credentials-optional" class="md-nav__link">
    <span class="md-ellipsis">
      Store your credentials (optional)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#connecting-to-stripe" class="md-nav__link">
    <span class="md-ellipsis">
      Connecting to Stripe
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-a-schema" class="md-nav__link">
    <span class="md-ellipsis">
      Create a schema
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#entities" class="md-nav__link">
    <span class="md-ellipsis">
      Entities
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Entities">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#accounts" class="md-nav__link">
    <span class="md-ellipsis">
      Accounts
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Accounts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#operations" class="md-nav__link">
    <span class="md-ellipsis">
      Operations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usage" class="md-nav__link">
    <span class="md-ellipsis">
      Usage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#notes" class="md-nav__link">
    <span class="md-ellipsis">
      Notes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#balance" class="md-nav__link">
    <span class="md-ellipsis">
      Balance
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Balance">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#operations_1" class="md-nav__link">
    <span class="md-ellipsis">
      Operations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usage_1" class="md-nav__link">
    <span class="md-ellipsis">
      Usage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#notes_1" class="md-nav__link">
    <span class="md-ellipsis">
      Notes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#balance-transactions" class="md-nav__link">
    <span class="md-ellipsis">
      Balance Transactions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Balance Transactions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#operations_2" class="md-nav__link">
    <span class="md-ellipsis">
      Operations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usage_2" class="md-nav__link">
    <span class="md-ellipsis">
      Usage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#notes_2" class="md-nav__link">
    <span class="md-ellipsis">
      Notes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#charges" class="md-nav__link">
    <span class="md-ellipsis">
      Charges
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Charges">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#operations_3" class="md-nav__link">
    <span class="md-ellipsis">
      Operations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usage_3" class="md-nav__link">
    <span class="md-ellipsis">
      Usage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#notes_3" class="md-nav__link">
    <span class="md-ellipsis">
      Notes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#checkout-sessions" class="md-nav__link">
    <span class="md-ellipsis">
      Checkout Sessions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Checkout Sessions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#operations_4" class="md-nav__link">
    <span class="md-ellipsis">
      Operations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usage_4" class="md-nav__link">
    <span class="md-ellipsis">
      Usage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#notes_4" class="md-nav__link">
    <span class="md-ellipsis">
      Notes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#customers" class="md-nav__link">
    <span class="md-ellipsis">
      Customers
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Customers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#operations_5" class="md-nav__link">
    <span class="md-ellipsis">
      Operations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usage_5" class="md-nav__link">
    <span class="md-ellipsis">
      Usage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#notes_5" class="md-nav__link">
    <span class="md-ellipsis">
      Notes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#disputes" class="md-nav__link">
    <span class="md-ellipsis">
      Disputes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Disputes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#operations_6" class="md-nav__link">
    <span class="md-ellipsis">
      Operations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usage_6" class="md-nav__link">
    <span class="md-ellipsis">
      Usage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#notes_6" class="md-nav__link">
    <span class="md-ellipsis">
      Notes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#events" class="md-nav__link">
    <span class="md-ellipsis">
      Events
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Events">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#operations_7" class="md-nav__link">
    <span class="md-ellipsis">
      Operations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usage_7" class="md-nav__link">
    <span class="md-ellipsis">
      Usage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#notes_7" class="md-nav__link">
    <span class="md-ellipsis">
      Notes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#files" class="md-nav__link">
    <span class="md-ellipsis">
      Files
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Files">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#operations_8" class="md-nav__link">
    <span class="md-ellipsis">
      Operations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usage_8" class="md-nav__link">
    <span class="md-ellipsis">
      Usage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#notes_8" class="md-nav__link">
    <span class="md-ellipsis">
      Notes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#file-links" class="md-nav__link">
    <span class="md-ellipsis">
      File Links
    </span>
  </a>
  
    <nav class="md-nav" aria-label="File Links">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#operations_9" class="md-nav__link">
    <span class="md-ellipsis">
      Operations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usage_9" class="md-nav__link">
    <span class="md-ellipsis">
      Usage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#notes_9" class="md-nav__link">
    <span class="md-ellipsis">
      Notes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#invoices" class="md-nav__link">
    <span class="md-ellipsis">
      Invoices
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Invoices">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#operations_10" class="md-nav__link">
    <span class="md-ellipsis">
      Operations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usage_10" class="md-nav__link">
    <span class="md-ellipsis">
      Usage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#notes_10" class="md-nav__link">
    <span class="md-ellipsis">
      Notes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mandates" class="md-nav__link">
    <span class="md-ellipsis">
      Mandates
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Mandates">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#operations_11" class="md-nav__link">
    <span class="md-ellipsis">
      Operations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usage_11" class="md-nav__link">
    <span class="md-ellipsis">
      Usage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#notes_11" class="md-nav__link">
    <span class="md-ellipsis">
      Notes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#meters" class="md-nav__link">
    <span class="md-ellipsis">
      Meters
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Meters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#operations_12" class="md-nav__link">
    <span class="md-ellipsis">
      Operations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usage_12" class="md-nav__link">
    <span class="md-ellipsis">
      Usage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#notes_12" class="md-nav__link">
    <span class="md-ellipsis">
      Notes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#payment-intents" class="md-nav__link">
    <span class="md-ellipsis">
      Payment Intents
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Payment Intents">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#operations_13" class="md-nav__link">
    <span class="md-ellipsis">
      Operations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usage_13" class="md-nav__link">
    <span class="md-ellipsis">
      Usage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#notes_13" class="md-nav__link">
    <span class="md-ellipsis">
      Notes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#payouts" class="md-nav__link">
    <span class="md-ellipsis">
      Payouts
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Payouts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#operations_14" class="md-nav__link">
    <span class="md-ellipsis">
      Operations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usage_14" class="md-nav__link">
    <span class="md-ellipsis">
      Usage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#notes_14" class="md-nav__link">
    <span class="md-ellipsis">
      Notes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prices" class="md-nav__link">
    <span class="md-ellipsis">
      Prices
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Prices">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#operations_15" class="md-nav__link">
    <span class="md-ellipsis">
      Operations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usage_15" class="md-nav__link">
    <span class="md-ellipsis">
      Usage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#notes_15" class="md-nav__link">
    <span class="md-ellipsis">
      Notes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#products" class="md-nav__link">
    <span class="md-ellipsis">
      Products
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Products">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#operations_16" class="md-nav__link">
    <span class="md-ellipsis">
      Operations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usage_16" class="md-nav__link">
    <span class="md-ellipsis">
      Usage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#notes_16" class="md-nav__link">
    <span class="md-ellipsis">
      Notes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refunds" class="md-nav__link">
    <span class="md-ellipsis">
      Refunds
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Refunds">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#operations_17" class="md-nav__link">
    <span class="md-ellipsis">
      Operations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usage_17" class="md-nav__link">
    <span class="md-ellipsis">
      Usage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#notes_17" class="md-nav__link">
    <span class="md-ellipsis">
      Notes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setupattempts" class="md-nav__link">
    <span class="md-ellipsis">
      SetupAttempts
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SetupAttempts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#operations_18" class="md-nav__link">
    <span class="md-ellipsis">
      Operations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usage_18" class="md-nav__link">
    <span class="md-ellipsis">
      Usage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#notes_18" class="md-nav__link">
    <span class="md-ellipsis">
      Notes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setupintents" class="md-nav__link">
    <span class="md-ellipsis">
      SetupIntents
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SetupIntents">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#operations_19" class="md-nav__link">
    <span class="md-ellipsis">
      Operations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usage_19" class="md-nav__link">
    <span class="md-ellipsis">
      Usage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#notes_19" class="md-nav__link">
    <span class="md-ellipsis">
      Notes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subscriptions" class="md-nav__link">
    <span class="md-ellipsis">
      Subscriptions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Subscriptions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#operations_20" class="md-nav__link">
    <span class="md-ellipsis">
      Operations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usage_20" class="md-nav__link">
    <span class="md-ellipsis">
      Usage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#notes_20" class="md-nav__link">
    <span class="md-ellipsis">
      Notes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tokens" class="md-nav__link">
    <span class="md-ellipsis">
      Tokens
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tokens">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#operations_21" class="md-nav__link">
    <span class="md-ellipsis">
      Operations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usage_21" class="md-nav__link">
    <span class="md-ellipsis">
      Usage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#notes_21" class="md-nav__link">
    <span class="md-ellipsis">
      Notes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#top-ups" class="md-nav__link">
    <span class="md-ellipsis">
      Top-ups
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Top-ups">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#operations_22" class="md-nav__link">
    <span class="md-ellipsis">
      Operations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usage_22" class="md-nav__link">
    <span class="md-ellipsis">
      Usage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#notes_22" class="md-nav__link">
    <span class="md-ellipsis">
      Notes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#transfers" class="md-nav__link">
    <span class="md-ellipsis">
      Transfers
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Transfers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#operations_23" class="md-nav__link">
    <span class="md-ellipsis">
      Operations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usage_23" class="md-nav__link">
    <span class="md-ellipsis">
      Usage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#notes_23" class="md-nav__link">
    <span class="md-ellipsis">
      Notes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#query-pushdown-support" class="md-nav__link">
    <span class="md-ellipsis">
      Query Pushdown Support
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#limitations" class="md-nav__link">
    <span class="md-ellipsis">
      Limitations
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#examples" class="md-nav__link">
    <span class="md-ellipsis">
      Examples
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-example" class="md-nav__link">
    <span class="md-ellipsis">
      Basic example
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#query-json-attributes" class="md-nav__link">
    <span class="md-ellipsis">
      Query JSON attributes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-modify" class="md-nav__link">
    <span class="md-ellipsis">
      Data modify
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../mssql/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SQL Server
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../wasm/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Wasm
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_3" id="__nav_2_3_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            Wasm
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cal/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cal.com
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../calendly/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Calendly
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cfd1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cloudflare D1
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../notion/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Notion
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../paddle/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Paddle
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../snowflake/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Snowflake
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Guides
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Guides
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/native-wasm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Native vs Wasm Wrappers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/query-pushdown/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Query Pushdown
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/remote-subqueries/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Remote Subqueries
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/security/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Security
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/usage-statistics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FDW Statistics
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/installation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installing Wrappers in Postgres
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/removing-wrappers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Removing Foreign Data Wrappers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/limitations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Limitations
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_9" >
        
          
          <label class="md-nav__link" for="__nav_3_9" id="__nav_3_9_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Developing a Wasm Wrapper
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_9">
            <span class="md-nav__icon md-icon"></span>
            Developing a Wasm Wrapper
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/create-wasm-wrapper/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Quick Start
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/wasm-advanced/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Advanced guide
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Contributing
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Contributing
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../contributing/core/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Core Development
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../contributing/native/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Developing a Native Wrapper
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../contributing/documentation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Documentation
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#preparation" class="md-nav__link">
    <span class="md-ellipsis">
      Preparation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Preparation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#enable-wrappers" class="md-nav__link">
    <span class="md-ellipsis">
      Enable Wrappers
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enable-the-stripe-wrapper" class="md-nav__link">
    <span class="md-ellipsis">
      Enable the Stripe Wrapper
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#store-your-credentials-optional" class="md-nav__link">
    <span class="md-ellipsis">
      Store your credentials (optional)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#connecting-to-stripe" class="md-nav__link">
    <span class="md-ellipsis">
      Connecting to Stripe
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-a-schema" class="md-nav__link">
    <span class="md-ellipsis">
      Create a schema
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#entities" class="md-nav__link">
    <span class="md-ellipsis">
      Entities
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Entities">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#accounts" class="md-nav__link">
    <span class="md-ellipsis">
      Accounts
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Accounts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#operations" class="md-nav__link">
    <span class="md-ellipsis">
      Operations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usage" class="md-nav__link">
    <span class="md-ellipsis">
      Usage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#notes" class="md-nav__link">
    <span class="md-ellipsis">
      Notes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#balance" class="md-nav__link">
    <span class="md-ellipsis">
      Balance
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Balance">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#operations_1" class="md-nav__link">
    <span class="md-ellipsis">
      Operations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usage_1" class="md-nav__link">
    <span class="md-ellipsis">
      Usage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#notes_1" class="md-nav__link">
    <span class="md-ellipsis">
      Notes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#balance-transactions" class="md-nav__link">
    <span class="md-ellipsis">
      Balance Transactions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Balance Transactions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#operations_2" class="md-nav__link">
    <span class="md-ellipsis">
      Operations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usage_2" class="md-nav__link">
    <span class="md-ellipsis">
      Usage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#notes_2" class="md-nav__link">
    <span class="md-ellipsis">
      Notes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#charges" class="md-nav__link">
    <span class="md-ellipsis">
      Charges
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Charges">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#operations_3" class="md-nav__link">
    <span class="md-ellipsis">
      Operations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usage_3" class="md-nav__link">
    <span class="md-ellipsis">
      Usage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#notes_3" class="md-nav__link">
    <span class="md-ellipsis">
      Notes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#checkout-sessions" class="md-nav__link">
    <span class="md-ellipsis">
      Checkout Sessions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Checkout Sessions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#operations_4" class="md-nav__link">
    <span class="md-ellipsis">
      Operations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usage_4" class="md-nav__link">
    <span class="md-ellipsis">
      Usage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#notes_4" class="md-nav__link">
    <span class="md-ellipsis">
      Notes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#customers" class="md-nav__link">
    <span class="md-ellipsis">
      Customers
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Customers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#operations_5" class="md-nav__link">
    <span class="md-ellipsis">
      Operations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usage_5" class="md-nav__link">
    <span class="md-ellipsis">
      Usage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#notes_5" class="md-nav__link">
    <span class="md-ellipsis">
      Notes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#disputes" class="md-nav__link">
    <span class="md-ellipsis">
      Disputes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Disputes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#operations_6" class="md-nav__link">
    <span class="md-ellipsis">
      Operations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usage_6" class="md-nav__link">
    <span class="md-ellipsis">
      Usage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#notes_6" class="md-nav__link">
    <span class="md-ellipsis">
      Notes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#events" class="md-nav__link">
    <span class="md-ellipsis">
      Events
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Events">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#operations_7" class="md-nav__link">
    <span class="md-ellipsis">
      Operations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usage_7" class="md-nav__link">
    <span class="md-ellipsis">
      Usage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#notes_7" class="md-nav__link">
    <span class="md-ellipsis">
      Notes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#files" class="md-nav__link">
    <span class="md-ellipsis">
      Files
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Files">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#operations_8" class="md-nav__link">
    <span class="md-ellipsis">
      Operations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usage_8" class="md-nav__link">
    <span class="md-ellipsis">
      Usage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#notes_8" class="md-nav__link">
    <span class="md-ellipsis">
      Notes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#file-links" class="md-nav__link">
    <span class="md-ellipsis">
      File Links
    </span>
  </a>
  
    <nav class="md-nav" aria-label="File Links">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#operations_9" class="md-nav__link">
    <span class="md-ellipsis">
      Operations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usage_9" class="md-nav__link">
    <span class="md-ellipsis">
      Usage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#notes_9" class="md-nav__link">
    <span class="md-ellipsis">
      Notes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#invoices" class="md-nav__link">
    <span class="md-ellipsis">
      Invoices
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Invoices">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#operations_10" class="md-nav__link">
    <span class="md-ellipsis">
      Operations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usage_10" class="md-nav__link">
    <span class="md-ellipsis">
      Usage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#notes_10" class="md-nav__link">
    <span class="md-ellipsis">
      Notes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mandates" class="md-nav__link">
    <span class="md-ellipsis">
      Mandates
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Mandates">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#operations_11" class="md-nav__link">
    <span class="md-ellipsis">
      Operations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usage_11" class="md-nav__link">
    <span class="md-ellipsis">
      Usage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#notes_11" class="md-nav__link">
    <span class="md-ellipsis">
      Notes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#meters" class="md-nav__link">
    <span class="md-ellipsis">
      Meters
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Meters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#operations_12" class="md-nav__link">
    <span class="md-ellipsis">
      Operations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usage_12" class="md-nav__link">
    <span class="md-ellipsis">
      Usage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#notes_12" class="md-nav__link">
    <span class="md-ellipsis">
      Notes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#payment-intents" class="md-nav__link">
    <span class="md-ellipsis">
      Payment Intents
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Payment Intents">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#operations_13" class="md-nav__link">
    <span class="md-ellipsis">
      Operations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usage_13" class="md-nav__link">
    <span class="md-ellipsis">
      Usage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#notes_13" class="md-nav__link">
    <span class="md-ellipsis">
      Notes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#payouts" class="md-nav__link">
    <span class="md-ellipsis">
      Payouts
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Payouts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#operations_14" class="md-nav__link">
    <span class="md-ellipsis">
      Operations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usage_14" class="md-nav__link">
    <span class="md-ellipsis">
      Usage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#notes_14" class="md-nav__link">
    <span class="md-ellipsis">
      Notes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prices" class="md-nav__link">
    <span class="md-ellipsis">
      Prices
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Prices">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#operations_15" class="md-nav__link">
    <span class="md-ellipsis">
      Operations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usage_15" class="md-nav__link">
    <span class="md-ellipsis">
      Usage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#notes_15" class="md-nav__link">
    <span class="md-ellipsis">
      Notes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#products" class="md-nav__link">
    <span class="md-ellipsis">
      Products
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Products">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#operations_16" class="md-nav__link">
    <span class="md-ellipsis">
      Operations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usage_16" class="md-nav__link">
    <span class="md-ellipsis">
      Usage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#notes_16" class="md-nav__link">
    <span class="md-ellipsis">
      Notes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refunds" class="md-nav__link">
    <span class="md-ellipsis">
      Refunds
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Refunds">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#operations_17" class="md-nav__link">
    <span class="md-ellipsis">
      Operations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usage_17" class="md-nav__link">
    <span class="md-ellipsis">
      Usage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#notes_17" class="md-nav__link">
    <span class="md-ellipsis">
      Notes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setupattempts" class="md-nav__link">
    <span class="md-ellipsis">
      SetupAttempts
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SetupAttempts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#operations_18" class="md-nav__link">
    <span class="md-ellipsis">
      Operations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usage_18" class="md-nav__link">
    <span class="md-ellipsis">
      Usage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#notes_18" class="md-nav__link">
    <span class="md-ellipsis">
      Notes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setupintents" class="md-nav__link">
    <span class="md-ellipsis">
      SetupIntents
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SetupIntents">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#operations_19" class="md-nav__link">
    <span class="md-ellipsis">
      Operations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usage_19" class="md-nav__link">
    <span class="md-ellipsis">
      Usage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#notes_19" class="md-nav__link">
    <span class="md-ellipsis">
      Notes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subscriptions" class="md-nav__link">
    <span class="md-ellipsis">
      Subscriptions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Subscriptions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#operations_20" class="md-nav__link">
    <span class="md-ellipsis">
      Operations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usage_20" class="md-nav__link">
    <span class="md-ellipsis">
      Usage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#notes_20" class="md-nav__link">
    <span class="md-ellipsis">
      Notes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tokens" class="md-nav__link">
    <span class="md-ellipsis">
      Tokens
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tokens">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#operations_21" class="md-nav__link">
    <span class="md-ellipsis">
      Operations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usage_21" class="md-nav__link">
    <span class="md-ellipsis">
      Usage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#notes_21" class="md-nav__link">
    <span class="md-ellipsis">
      Notes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#top-ups" class="md-nav__link">
    <span class="md-ellipsis">
      Top-ups
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Top-ups">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#operations_22" class="md-nav__link">
    <span class="md-ellipsis">
      Operations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usage_22" class="md-nav__link">
    <span class="md-ellipsis">
      Usage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#notes_22" class="md-nav__link">
    <span class="md-ellipsis">
      Notes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#transfers" class="md-nav__link">
    <span class="md-ellipsis">
      Transfers
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Transfers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#operations_23" class="md-nav__link">
    <span class="md-ellipsis">
      Operations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usage_23" class="md-nav__link">
    <span class="md-ellipsis">
      Usage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#notes_23" class="md-nav__link">
    <span class="md-ellipsis">
      Notes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#query-pushdown-support" class="md-nav__link">
    <span class="md-ellipsis">
      Query Pushdown Support
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#limitations" class="md-nav__link">
    <span class="md-ellipsis">
      Limitations
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#examples" class="md-nav__link">
    <span class="md-ellipsis">
      Examples
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-example" class="md-nav__link">
    <span class="md-ellipsis">
      Basic example
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#query-json-attributes" class="md-nav__link">
    <span class="md-ellipsis">
      Query JSON attributes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-modify" class="md-nav__link">
    <span class="md-ellipsis">
      Data modify
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  
  
<nav class="md-tags" >
  
    
    
    
      <a href="../../tags/#native" class="md-tag">native</a>
    
  
    
    
    
      <a href="../../tags/#official" class="md-tag">official</a>
    
  
</nav>


  
  


<h1 id="stripe">Stripe</h1>
<p><a href="https://stripe.com">Stripe</a> is an API driven online payment processing utility.</p>
<p>The Stripe Wrapper allows you to read data from Stripe within your Postgres database.</p>
<h2 id="preparation">Preparation</h2>
<p>Before you can query Stripe, you need to enable the Wrappers extension and store your credentials in Postgres.</p>
<h3 id="enable-wrappers">Enable Wrappers</h3>
<p>Make sure the <code>wrappers</code> extension is installed on your database:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">create</span><span class="w"> </span><span class="n">extension</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">exists</span><span class="w"> </span><span class="n">wrappers</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="k">schema</span><span class="w"> </span><span class="n">extensions</span><span class="p">;</span>
</code></pre></div></td></tr></table></div>
<h3 id="enable-the-stripe-wrapper">Enable the Stripe Wrapper</h3>
<p>Enable the <code>stripe_wrapper</code> FDW:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">create</span><span class="w"> </span><span class="k">foreign</span><span class="w"> </span><span class="k">data</span><span class="w"> </span><span class="n">wrapper</span><span class="w"> </span><span class="n">stripe_wrapper</span>
<span class="w">  </span><span class="k">handler</span><span class="w"> </span><span class="n">stripe_fdw_handler</span>
<span class="w">  </span><span class="k">validator</span><span class="w"> </span><span class="n">stripe_fdw_validator</span><span class="p">;</span>
</code></pre></div></td></tr></table></div>
<h3 id="store-your-credentials-optional">Store your credentials (optional)</h3>
<p>By default, Postgres stores FDW credentials inside <code>pg_catalog.pg_foreign_server</code> in plain text. Anyone with access to this table will be able to view these credentials. Wrappers is designed to work with <a href="https://supabase.com/docs/guides/database/vault">Vault</a>, which provides an additional level of security for storing credentials. We recommend using Vault to store your credentials.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1">-- Save your Stripe API key in Vault and retrieve the `key_id`</span>
<span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">vault</span><span class="p">.</span><span class="n">secrets</span><span class="w"> </span><span class="p">(</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">secret</span><span class="p">)</span>
<span class="k">values</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="s1">&#39;stripe&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="s1">&#39;&lt;Stripe API key&gt;&#39;</span>
<span class="p">)</span>
<span class="n">returning</span><span class="w"> </span><span class="n">key_id</span><span class="p">;</span>
</code></pre></div></td></tr></table></div>
<h3 id="connecting-to-stripe">Connecting to Stripe</h3>
<p>We need to provide Postgres with the credentials to connect to Stripe, and any additional options. We can do this using the <code>create server</code> command:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:2"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">With Vault</label><label for="__tabbed_1_2">Without Vault</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">create</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">stripe_server</span>
<span class="w">  </span><span class="k">foreign</span><span class="w"> </span><span class="k">data</span><span class="w"> </span><span class="n">wrapper</span><span class="w"> </span><span class="n">stripe_wrapper</span>
<span class="w">  </span><span class="k">options</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">api_key_id</span><span class="w"> </span><span class="s1">&#39;&lt;key_ID&gt;&#39;</span><span class="p">,</span><span class="w"> </span><span class="c1">-- The Key ID from above, required if api_key_name is not specified.</span>
<span class="w">    </span><span class="n">api_key_name</span><span class="w"> </span><span class="s1">&#39;&lt;key_Name&gt;&#39;</span><span class="p">,</span><span class="w"> </span><span class="c1">-- The Key Name from above, required if api_key_id is not specified.</span>
<span class="w">    </span><span class="n">api_url</span><span class="w"> </span><span class="s1">&#39;https://api.stripe.com/v1/&#39;</span><span class="p">,</span><span class="w">  </span><span class="c1">-- Stripe API base URL, optional. Default is &#39;https://api.stripe.com/v1/&#39;</span>
<span class="w">    </span><span class="n">api_version</span><span class="w"> </span><span class="s1">&#39;2024-06-20&#39;</span><span class="w">  </span><span class="c1">-- Stripe API version, optional. Default is your Stripe account’s default API version.</span>
<span class="w">  </span><span class="p">);</span>
</code></pre></div></td></tr></table></div>
</div>
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">create</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">stripe_server</span>
<span class="w">  </span><span class="k">foreign</span><span class="w"> </span><span class="k">data</span><span class="w"> </span><span class="n">wrapper</span><span class="w"> </span><span class="n">stripe_wrapper</span>
<span class="w">  </span><span class="k">options</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">api_key</span><span class="w"> </span><span class="s1">&#39;&lt;Stripe API key&gt;&#39;</span><span class="p">,</span><span class="w">  </span><span class="c1">-- Stripe API key, required</span>
<span class="w">    </span><span class="n">api_url</span><span class="w"> </span><span class="s1">&#39;https://api.stripe.com/v1/&#39;</span><span class="p">,</span><span class="w">  </span><span class="c1">-- Stripe API base URL, optional. Default is &#39;https://api.stripe.com/v1/&#39;</span>
<span class="w">    </span><span class="n">api_version</span><span class="w"> </span><span class="s1">&#39;2024-06-20&#39;</span><span class="w">  </span><span class="c1">-- Stripe API version, optional. Default is your Stripe account’s default API version.</span>
<span class="w">  </span><span class="p">);</span>
</code></pre></div></td></tr></table></div>
</div>
</div>
</div>
<h3 id="create-a-schema">Create a schema</h3>
<p>We recommend creating a schema to hold all the foreign tables:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">create</span><span class="w"> </span><span class="k">schema</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">exists</span><span class="w"> </span><span class="n">stripe</span><span class="p">;</span>
</code></pre></div></td></tr></table></div>
<h2 id="entities">Entities</h2>
<p>The Stripe Wrapper supports data read and modify from Stripe API.</p>
<table>
<thead>
<tr>
<th>Object</th>
<th style="text-align: center;">Select</th>
<th style="text-align: center;">Insert</th>
<th style="text-align: center;">Update</th>
<th style="text-align: center;">Delete</th>
<th style="text-align: center;">Truncate</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="#accounts">Accounts</a></td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
</tr>
<tr>
<td><a href="#balance">Balance</a></td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
</tr>
<tr>
<td><a href="#balance-transactions">Balance Transactions</a></td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
</tr>
<tr>
<td><a href="#charges">Charges</a></td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
</tr>
<tr>
<td><a href="#checkout-sessions">Checkout Sessions</a></td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
</tr>
<tr>
<td><a href="#customers">Customers</a></td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">❌</td>
</tr>
<tr>
<td><a href="#disputes">Disputes</a></td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
</tr>
<tr>
<td><a href="#events">Events</a></td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
</tr>
<tr>
<td><a href="#files">Files</a></td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
</tr>
<tr>
<td><a href="#file-links">File Links</a></td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
</tr>
<tr>
<td><a href="#invoices">Invoices</a></td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
</tr>
<tr>
<td><a href="#mandates">Mandates</a></td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
</tr>
<tr>
<td><a href="#meters">Meters</a></td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
</tr>
<tr>
<td><a href="#payment-intents">PaymentIntents</a></td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
</tr>
<tr>
<td><a href="#payouts">Payouts</a></td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
</tr>
<tr>
<td><a href="#prices">Prices</a></td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
</tr>
<tr>
<td><a href="#products">Products</a></td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">❌</td>
</tr>
<tr>
<td><a href="#refunds">Refunds</a></td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
</tr>
<tr>
<td><a href="#setupattempts">SetupAttempts</a></td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
</tr>
<tr>
<td><a href="#setupintents">SetupIntents</a></td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
</tr>
<tr>
<td><a href="#subscriptions">Subscriptions</a></td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">❌</td>
</tr>
<tr>
<td><a href="#tokens">Tokens</a></td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
</tr>
<tr>
<td><a href="#top-ups">Topups</a></td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
</tr>
<tr>
<td><a href="#transfers">Transfers</a></td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
</tr>
</tbody>
</table>
<h3 id="accounts">Accounts</h3>
<p>This is an object representing a Stripe account.</p>
<p>Ref: <a href="https://stripe.com/docs/api/accounts/list">Stripe docs</a></p>
<h4 id="operations">Operations</h4>
<table>
<thead>
<tr>
<th>Object</th>
<th style="text-align: center;">Select</th>
<th style="text-align: center;">Insert</th>
<th style="text-align: center;">Update</th>
<th style="text-align: center;">Delete</th>
<th style="text-align: center;">Truncate</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://stripe.com/docs/api/accounts/list">Accounts</a></td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
</tr>
</tbody>
</table>
<h4 id="usage">Usage</h4>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">create</span><span class="w"> </span><span class="k">foreign</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">stripe</span><span class="p">.</span><span class="n">accounts</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">id</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">business_type</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">country</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">email</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="k">type</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">created</span><span class="w"> </span><span class="k">timestamp</span><span class="p">,</span>
<span class="w">  </span><span class="n">attrs</span><span class="w"> </span><span class="n">jsonb</span>
<span class="p">)</span>
<span class="w">  </span><span class="n">server</span><span class="w"> </span><span class="n">stripe_server</span>
<span class="w">  </span><span class="k">options</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="k">object</span><span class="w"> </span><span class="s1">&#39;accounts&#39;</span>
<span class="w">  </span><span class="p">);</span>
</code></pre></div></td></tr></table></div>
<h4 id="notes">Notes</h4>
<ul>
<li>While any column is allowed in a where clause, it is most efficient to filter by <code>id</code></li>
<li>Use the <code>attrs</code> jsonb column to access additional account details</li>
</ul>
<h3 id="balance">Balance</h3>
<p>This is an object representing your Stripe account's current balance.</p>
<p>Ref: <a href="https://stripe.com/docs/api/balance">Stripe docs</a></p>
<h4 id="operations_1">Operations</h4>
<table>
<thead>
<tr>
<th>Object</th>
<th style="text-align: center;">Select</th>
<th style="text-align: center;">Insert</th>
<th style="text-align: center;">Update</th>
<th style="text-align: center;">Delete</th>
<th style="text-align: center;">Truncate</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://stripe.com/docs/api/balance">Balance</a></td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
</tr>
</tbody>
</table>
<h4 id="usage_1">Usage</h4>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">create</span><span class="w"> </span><span class="k">foreign</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">stripe</span><span class="p">.</span><span class="n">balance</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">balance_type</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">amount</span><span class="w"> </span><span class="nb">bigint</span><span class="p">,</span>
<span class="w">  </span><span class="n">currency</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">attrs</span><span class="w"> </span><span class="n">jsonb</span>
<span class="p">)</span>
<span class="w">  </span><span class="n">server</span><span class="w"> </span><span class="n">stripe_server</span>
<span class="w">  </span><span class="k">options</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="k">object</span><span class="w"> </span><span class="s1">&#39;balance&#39;</span>
<span class="w">  </span><span class="p">);</span>
</code></pre></div></td></tr></table></div>
<h4 id="notes_1">Notes</h4>
<ul>
<li>Balance is a read-only object that shows the current funds in your Stripe account</li>
<li>The balance is broken down by source types (e.g., card, bank account) and currencies</li>
<li>Use the <code>attrs</code> jsonb column to access additional balance details like pending amounts</li>
<li>While any column is allowed in a where clause, filtering options are limited as this is a singleton object</li>
</ul>
<h3 id="balance-transactions">Balance Transactions</h3>
<p>This is an object representing funds moving through your Stripe account. Balance transactions are created for every type of transaction that comes into or flows out of your Stripe account balance.</p>
<p>Ref: <a href="https://stripe.com/docs/api/balance_transactions/list">Stripe docs</a></p>
<h4 id="operations_2">Operations</h4>
<table>
<thead>
<tr>
<th>Object</th>
<th style="text-align: center;">Select</th>
<th style="text-align: center;">Insert</th>
<th style="text-align: center;">Update</th>
<th style="text-align: center;">Delete</th>
<th style="text-align: center;">Truncate</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://stripe.com/docs/api/balance_transactions/list">Balance Transactions</a></td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
</tr>
</tbody>
</table>
<h4 id="usage_2">Usage</h4>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">create</span><span class="w"> </span><span class="k">foreign</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">stripe</span><span class="p">.</span><span class="n">balance_transactions</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">id</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">amount</span><span class="w"> </span><span class="nb">bigint</span><span class="p">,</span>
<span class="w">  </span><span class="n">currency</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">description</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">fee</span><span class="w"> </span><span class="nb">bigint</span><span class="p">,</span>
<span class="w">  </span><span class="n">net</span><span class="w"> </span><span class="nb">bigint</span><span class="p">,</span>
<span class="w">  </span><span class="n">status</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="k">type</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">created</span><span class="w"> </span><span class="k">timestamp</span><span class="p">,</span>
<span class="w">  </span><span class="n">attrs</span><span class="w"> </span><span class="n">jsonb</span>
<span class="p">)</span>
<span class="w">  </span><span class="n">server</span><span class="w"> </span><span class="n">stripe_server</span>
<span class="w">  </span><span class="k">options</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="k">object</span><span class="w"> </span><span class="s1">&#39;balance_transactions&#39;</span>
<span class="w">  </span><span class="p">);</span>
</code></pre></div></td></tr></table></div>
<h4 id="notes_2">Notes</h4>
<ul>
<li>Balance transactions are read-only records of all funds movement in your Stripe account</li>
<li>Each transaction includes amount, currency, fees, and net amount information</li>
<li>Use the <code>attrs</code> jsonb column to access additional transaction details</li>
<li>While any column is allowed in a where clause, it is most efficient to filter by:<ul>
<li>id</li>
<li>type</li>
</ul>
</li>
</ul>
<h3 id="charges">Charges</h3>
<p>This is an object representing a charge on a credit or debit card. You can retrieve and refund individual charges as well as list all charges. Charges are identified by a unique, random ID.</p>
<p>Ref: <a href="https://stripe.com/docs/api/charges/list">Stripe docs</a></p>
<h4 id="operations_3">Operations</h4>
<table>
<thead>
<tr>
<th>Object</th>
<th style="text-align: center;">Select</th>
<th style="text-align: center;">Insert</th>
<th style="text-align: center;">Update</th>
<th style="text-align: center;">Delete</th>
<th style="text-align: center;">Truncate</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://stripe.com/docs/api/charges/list">Charges</a></td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
</tr>
</tbody>
</table>
<h4 id="usage_3">Usage</h4>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">create</span><span class="w"> </span><span class="k">foreign</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">stripe</span><span class="p">.</span><span class="n">charges</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">id</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">amount</span><span class="w"> </span><span class="nb">bigint</span><span class="p">,</span>
<span class="w">  </span><span class="n">currency</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">customer</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">description</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">invoice</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">payment_intent</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">status</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">created</span><span class="w"> </span><span class="k">timestamp</span><span class="p">,</span>
<span class="w">  </span><span class="n">attrs</span><span class="w"> </span><span class="n">jsonb</span>
<span class="p">)</span>
<span class="w">  </span><span class="n">server</span><span class="w"> </span><span class="n">stripe_server</span>
<span class="w">  </span><span class="k">options</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="k">object</span><span class="w"> </span><span class="s1">&#39;charges&#39;</span>
<span class="w">  </span><span class="p">);</span>
</code></pre></div></td></tr></table></div>
<h4 id="notes_3">Notes</h4>
<ul>
<li>Charges are read-only records of payment transactions in your Stripe account</li>
<li>Each charge includes amount, currency, customer, and payment status information</li>
<li>Use the <code>attrs</code> jsonb column to access additional charge details</li>
<li>While any column is allowed in a where clause, it is most efficient to filter by:<ul>
<li>id</li>
<li>customer</li>
</ul>
</li>
</ul>
<h3 id="checkout-sessions">Checkout Sessions</h3>
<p>This is an object representing your customer's session as they pay for one-time purchases or subscriptions through Checkout or Payment Links. We recommend creating a new Session each time your customer attempts to pay.</p>
<p>Ref: <a href="https://stripe.com/docs/api/checkout/sessions/list">Stripe docs</a></p>
<h4 id="operations_4">Operations</h4>
<table>
<thead>
<tr>
<th>Object</th>
<th style="text-align: center;">Select</th>
<th style="text-align: center;">Insert</th>
<th style="text-align: center;">Update</th>
<th style="text-align: center;">Delete</th>
<th style="text-align: center;">Truncate</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://stripe.com/docs/api/checkout/sessions/list">Checkout Sessions</a></td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
</tr>
</tbody>
</table>
<h4 id="usage_4">Usage</h4>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">create</span><span class="w"> </span><span class="k">foreign</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">stripe</span><span class="p">.</span><span class="n">checkout_sessions</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">id</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">customer</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">payment_intent</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">subscription</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">attrs</span><span class="w"> </span><span class="n">jsonb</span>
<span class="p">)</span>
<span class="w">  </span><span class="n">server</span><span class="w"> </span><span class="n">stripe_server</span>
<span class="w">  </span><span class="k">options</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="k">object</span><span class="w"> </span><span class="s1">&#39;checkout/sessions&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="n">rowid_column</span><span class="w"> </span><span class="s1">&#39;id&#39;</span>
<span class="w">  </span><span class="p">);</span>
</code></pre></div></td></tr></table></div>
<h4 id="notes_4">Notes</h4>
<ul>
<li>Checkout Sessions are read-only records of customer payment sessions in your Stripe account</li>
<li>Each session includes customer, payment intent, and subscription information</li>
<li>Use the <code>attrs</code> jsonb column to access additional session details</li>
<li>While any column is allowed in a where clause, it is most efficient to filter by:<ul>
<li>id</li>
<li>customer</li>
<li>payment_intent</li>
<li>subscription</li>
</ul>
</li>
</ul>
<h3 id="customers">Customers</h3>
<p>This is an object representing your Stripe customers. You can create, retrieve, update, and delete customers.</p>
<p>Ref: <a href="https://stripe.com/docs/api/customers/list">Stripe docs</a></p>
<h4 id="operations_5">Operations</h4>
<table>
<thead>
<tr>
<th>Object</th>
<th style="text-align: center;">Select</th>
<th style="text-align: center;">Insert</th>
<th style="text-align: center;">Update</th>
<th style="text-align: center;">Delete</th>
<th style="text-align: center;">Truncate</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://stripe.com/docs/api/customers/list">Customers</a></td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">❌</td>
</tr>
</tbody>
</table>
<h4 id="usage_5">Usage</h4>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">create</span><span class="w"> </span><span class="k">foreign</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">stripe</span><span class="p">.</span><span class="n">customers</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">id</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">email</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">name</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">description</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">created</span><span class="w"> </span><span class="k">timestamp</span><span class="p">,</span>
<span class="w">  </span><span class="n">attrs</span><span class="w"> </span><span class="n">jsonb</span>
<span class="p">)</span>
<span class="w">  </span><span class="n">server</span><span class="w"> </span><span class="n">stripe_server</span>
<span class="w">  </span><span class="k">options</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="k">object</span><span class="w"> </span><span class="s1">&#39;customers&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="n">rowid_column</span><span class="w"> </span><span class="s1">&#39;id&#39;</span>
<span class="w">  </span><span class="p">);</span>
</code></pre></div></td></tr></table></div>
<p>Example operations:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1">-- create a new customer</span>
<span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">stripe</span><span class="p">.</span><span class="n">customers</span><span class="p">(</span><span class="n">email</span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">description</span><span class="p">)</span>
<span class="k">values</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;jane@example.com&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Jane Smith&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Premium customer&#39;</span><span class="p">);</span>

<span class="c1">-- update a customer</span>
<span class="k">update</span><span class="w"> </span><span class="n">stripe</span><span class="p">.</span><span class="n">customers</span>
<span class="k">set</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;Jane Doe&#39;</span>
<span class="k">where</span><span class="w"> </span><span class="n">email</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;jane@example.com&#39;</span><span class="p">;</span>

<span class="c1">-- delete a customer</span>
<span class="k">delete</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">stripe</span><span class="p">.</span><span class="n">customers</span>
<span class="k">where</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;cus_xxx&#39;</span><span class="p">;</span>
</code></pre></div></td></tr></table></div>
<h4 id="notes_5">Notes</h4>
<ul>
<li>Customers can be created, retrieved, updated, and deleted through SQL operations</li>
<li>Each customer can have an email, name, and description</li>
<li>Use the <code>attrs</code> jsonb column to access additional customer details</li>
<li>While any column is allowed in a where clause, it is most efficient to filter by:<ul>
<li>id</li>
<li>email</li>
</ul>
</li>
</ul>
<h3 id="disputes">Disputes</h3>
<p>This is an object representing a dispute that occurs when a customer questions your charge with their card issuer.</p>
<p>Ref: <a href="https://stripe.com/docs/api/disputes/list">Stripe docs</a></p>
<h4 id="operations_6">Operations</h4>
<table>
<thead>
<tr>
<th>Object</th>
<th style="text-align: center;">Select</th>
<th style="text-align: center;">Insert</th>
<th style="text-align: center;">Update</th>
<th style="text-align: center;">Delete</th>
<th style="text-align: center;">Truncate</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://stripe.com/docs/api/disputes/list">Disputes</a></td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
</tr>
</tbody>
</table>
<h4 id="usage_6">Usage</h4>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">create</span><span class="w"> </span><span class="k">foreign</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">stripe</span><span class="p">.</span><span class="n">disputes</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">id</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">amount</span><span class="w"> </span><span class="nb">bigint</span><span class="p">,</span>
<span class="w">  </span><span class="n">currency</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">charge</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">payment_intent</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">reason</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">status</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">created</span><span class="w"> </span><span class="k">timestamp</span><span class="p">,</span>
<span class="w">  </span><span class="n">attrs</span><span class="w"> </span><span class="n">jsonb</span>
<span class="p">)</span>
<span class="w">  </span><span class="n">server</span><span class="w"> </span><span class="n">stripe_server</span>
<span class="w">  </span><span class="k">options</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="k">object</span><span class="w"> </span><span class="s1">&#39;disputes&#39;</span>
<span class="w">  </span><span class="p">);</span>
</code></pre></div></td></tr></table></div>
<h4 id="notes_6">Notes</h4>
<ul>
<li>Disputes are read-only records of customer payment disputes in your Stripe account</li>
<li>Each dispute includes amount, currency, charge, and payment intent information</li>
<li>Use the <code>attrs</code> jsonb column to access additional dispute details</li>
<li>While any column is allowed in a where clause, it is most efficient to filter by:<ul>
<li>id</li>
<li>charge</li>
<li>payment_intent</li>
</ul>
</li>
</ul>
<h3 id="events">Events</h3>
<p>This is an object representing events that occur in your Stripe account, letting you know when something interesting happens.</p>
<p>Ref: <a href="https://stripe.com/docs/api/events/list">Stripe docs</a></p>
<h4 id="operations_7">Operations</h4>
<table>
<thead>
<tr>
<th>Object</th>
<th style="text-align: center;">Select</th>
<th style="text-align: center;">Insert</th>
<th style="text-align: center;">Update</th>
<th style="text-align: center;">Delete</th>
<th style="text-align: center;">Truncate</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://stripe.com/docs/api/events/list">Events</a></td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
</tr>
</tbody>
</table>
<h4 id="usage_7">Usage</h4>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">create</span><span class="w"> </span><span class="k">foreign</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">stripe</span><span class="p">.</span><span class="n">events</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">id</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="k">type</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">api_version</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">created</span><span class="w"> </span><span class="k">timestamp</span><span class="p">,</span>
<span class="w">  </span><span class="n">attrs</span><span class="w"> </span><span class="n">jsonb</span>
<span class="p">)</span>
<span class="w">  </span><span class="n">server</span><span class="w"> </span><span class="n">stripe_server</span>
<span class="w">  </span><span class="k">options</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="k">object</span><span class="w"> </span><span class="s1">&#39;events&#39;</span>
<span class="w">  </span><span class="p">);</span>
</code></pre></div></td></tr></table></div>
<h4 id="notes_7">Notes</h4>
<ul>
<li>Events are read-only records of activities in your Stripe account</li>
<li>Each event includes type, API version, and timestamp information</li>
<li>Use the <code>attrs</code> jsonb column to access additional event details</li>
<li>While any column is allowed in a where clause, it is most efficient to filter by:<ul>
<li>id</li>
<li>type</li>
</ul>
</li>
</ul>
<h3 id="files">Files</h3>
<p>This is an object representing a file hosted on Stripe's servers.</p>
<p>Ref: <a href="https://stripe.com/docs/api/files/list">Stripe docs</a></p>
<h4 id="operations_8">Operations</h4>
<table>
<thead>
<tr>
<th>Object</th>
<th style="text-align: center;">Select</th>
<th style="text-align: center;">Insert</th>
<th style="text-align: center;">Update</th>
<th style="text-align: center;">Delete</th>
<th style="text-align: center;">Truncate</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://stripe.com/docs/api/files/list">Files</a></td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
</tr>
</tbody>
</table>
<h4 id="usage_8">Usage</h4>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">create</span><span class="w"> </span><span class="k">foreign</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">stripe</span><span class="p">.</span><span class="n">files</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">id</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">filename</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">purpose</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">title</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="k">size</span><span class="w"> </span><span class="nb">bigint</span><span class="p">,</span>
<span class="w">  </span><span class="k">type</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">url</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">created</span><span class="w"> </span><span class="k">timestamp</span><span class="p">,</span>
<span class="w">  </span><span class="n">expires_at</span><span class="w"> </span><span class="k">timestamp</span><span class="p">,</span>
<span class="w">  </span><span class="n">attrs</span><span class="w"> </span><span class="n">jsonb</span>
<span class="p">)</span>
<span class="w">  </span><span class="n">server</span><span class="w"> </span><span class="n">stripe_server</span>
<span class="w">  </span><span class="k">options</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="k">object</span><span class="w"> </span><span class="s1">&#39;files&#39;</span>
<span class="w">  </span><span class="p">);</span>
</code></pre></div></td></tr></table></div>
<h4 id="notes_8">Notes</h4>
<ul>
<li>Files are read-only records of files hosted on Stripe's servers</li>
<li>Each file includes filename, purpose, size, type, and URL information</li>
<li>Files may have an expiration date specified in expires_at</li>
<li>Use the <code>attrs</code> jsonb column to access additional file details</li>
<li>While any column is allowed in a where clause, it is most efficient to filter by:<ul>
<li>id</li>
<li>purpose</li>
</ul>
</li>
</ul>
<h3 id="file-links">File Links</h3>
<p>This is an object representing a link that can be used to share the contents of a <code>File</code> object with non-Stripe users.</p>
<p>Ref: <a href="https://stripe.com/docs/api/file_links/list">Stripe docs</a></p>
<h4 id="operations_9">Operations</h4>
<table>
<thead>
<tr>
<th>Object</th>
<th style="text-align: center;">Select</th>
<th style="text-align: center;">Insert</th>
<th style="text-align: center;">Update</th>
<th style="text-align: center;">Delete</th>
<th style="text-align: center;">Truncate</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://stripe.com/docs/api/file_links/list">File Links</a></td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
</tr>
</tbody>
</table>
<h4 id="usage_9">Usage</h4>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">create</span><span class="w"> </span><span class="k">foreign</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">stripe</span><span class="p">.</span><span class="n">file_links</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">id</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">file</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">url</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">created</span><span class="w"> </span><span class="k">timestamp</span><span class="p">,</span>
<span class="w">  </span><span class="n">expired</span><span class="w"> </span><span class="n">bool</span><span class="p">,</span>
<span class="w">  </span><span class="n">expires_at</span><span class="w"> </span><span class="k">timestamp</span><span class="p">,</span>
<span class="w">  </span><span class="n">attrs</span><span class="w"> </span><span class="n">jsonb</span>
<span class="p">)</span>
<span class="w">  </span><span class="n">server</span><span class="w"> </span><span class="n">stripe_server</span>
<span class="w">  </span><span class="k">options</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="k">object</span><span class="w"> </span><span class="s1">&#39;file_links&#39;</span>
<span class="w">  </span><span class="p">);</span>
</code></pre></div></td></tr></table></div>
<h4 id="notes_9">Notes</h4>
<ul>
<li>File Links are read-only records that provide shareable access to Stripe files</li>
<li>Each link includes a reference to the file and a public URL</li>
<li>Links can be configured to expire at a specific time</li>
<li>Use the <code>expired</code> boolean to check if a link has expired</li>
<li>Use the <code>attrs</code> jsonb column to access additional link details</li>
<li>While any column is allowed in a where clause, it is most efficient to filter by:<ul>
<li>id</li>
<li>file</li>
</ul>
</li>
</ul>
<h3 id="invoices">Invoices</h3>
<p>This is an object representing statements of amounts owed by a customer, which are either generated one-off or periodically from a subscription.</p>
<p>Ref: <a href="https://stripe.com/docs/api/invoices/list">Stripe docs</a></p>
<h4 id="operations_10">Operations</h4>
<table>
<thead>
<tr>
<th>Object</th>
<th style="text-align: center;">Select</th>
<th style="text-align: center;">Insert</th>
<th style="text-align: center;">Update</th>
<th style="text-align: center;">Delete</th>
<th style="text-align: center;">Truncate</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://stripe.com/docs/api/invoices/list">Invoices</a></td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
</tr>
</tbody>
</table>
<h4 id="usage_10">Usage</h4>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">create</span><span class="w"> </span><span class="k">foreign</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">stripe</span><span class="p">.</span><span class="n">invoices</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">id</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">customer</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">subscription</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">status</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">total</span><span class="w"> </span><span class="nb">bigint</span><span class="p">,</span>
<span class="w">  </span><span class="n">currency</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">period_start</span><span class="w"> </span><span class="k">timestamp</span><span class="p">,</span>
<span class="w">  </span><span class="n">period_end</span><span class="w"> </span><span class="k">timestamp</span><span class="p">,</span>
<span class="w">  </span><span class="n">attrs</span><span class="w"> </span><span class="n">jsonb</span>
<span class="p">)</span>
<span class="w">  </span><span class="n">server</span><span class="w"> </span><span class="n">stripe_server</span>
<span class="w">  </span><span class="k">options</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="k">object</span><span class="w"> </span><span class="s1">&#39;invoices&#39;</span>
<span class="w">  </span><span class="p">);</span>
</code></pre></div></td></tr></table></div>
<h4 id="notes_10">Notes</h4>
<ul>
<li>Invoices are read-only records of amounts owed by customers</li>
<li>Each invoice includes customer, subscription, status, and amount information</li>
<li>Invoices track billing periods with period_start and period_end timestamps</li>
<li>Use the <code>attrs</code> jsonb column to access additional invoice details</li>
<li>While any column is allowed in a where clause, it is most efficient to filter by:<ul>
<li>id</li>
<li>customer</li>
<li>status</li>
<li>subscription</li>
</ul>
</li>
</ul>
<h3 id="mandates">Mandates</h3>
<p>This is an object representing a record of the permission a customer has given you to debit their payment method.</p>
<p>Ref: <a href="https://stripe.com/docs/api/mandates">Stripe docs</a></p>
<h4 id="operations_11">Operations</h4>
<table>
<thead>
<tr>
<th>Object</th>
<th style="text-align: center;">Select</th>
<th style="text-align: center;">Insert</th>
<th style="text-align: center;">Update</th>
<th style="text-align: center;">Delete</th>
<th style="text-align: center;">Truncate</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://stripe.com/docs/api/mandates">Mandates</a></td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
</tr>
</tbody>
</table>
<h4 id="usage_11">Usage</h4>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">create</span><span class="w"> </span><span class="k">foreign</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">stripe</span><span class="p">.</span><span class="n">mandates</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">id</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">payment_method</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">status</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="k">type</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">attrs</span><span class="w"> </span><span class="n">jsonb</span>
<span class="p">)</span>
<span class="w">  </span><span class="n">server</span><span class="w"> </span><span class="n">stripe_server</span>
<span class="w">  </span><span class="k">options</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="k">object</span><span class="w"> </span><span class="s1">&#39;mandates&#39;</span>
<span class="w">  </span><span class="p">);</span>
</code></pre></div></td></tr></table></div>
<h4 id="notes_11">Notes</h4>
<ul>
<li>Mandates are read-only records of customer payment permissions</li>
<li>Each mandate includes payment method, status, and type information</li>
<li>Use the <code>attrs</code> jsonb column to access additional mandate details</li>
<li>While any column is allowed in a where clause, it is most efficient to filter by:<ul>
<li>id</li>
</ul>
</li>
</ul>
<h3 id="meters">Meters</h3>
<p>This is an object representing a billing meter that allows you to track usage of a particular event.</p>
<p>Ref: <a href="https://docs.stripe.com/api/billing/meter">Stripe docs</a></p>
<h4 id="operations_12">Operations</h4>
<table>
<thead>
<tr>
<th>Object</th>
<th style="text-align: center;">Select</th>
<th style="text-align: center;">Insert</th>
<th style="text-align: center;">Update</th>
<th style="text-align: center;">Delete</th>
<th style="text-align: center;">Truncate</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://docs.stripe.com/api/billing/meter">Meters</a></td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
</tr>
</tbody>
</table>
<h4 id="usage_12">Usage</h4>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">create</span><span class="w"> </span><span class="k">foreign</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">stripe</span><span class="p">.</span><span class="n">meter</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">id</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">display_name</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">event_name</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">event_time_window</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">status</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">attrs</span><span class="w"> </span><span class="n">jsonb</span>
<span class="p">)</span>
<span class="w">  </span><span class="n">server</span><span class="w"> </span><span class="n">stripe_server</span>
<span class="w">  </span><span class="k">options</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="k">object</span><span class="w"> </span><span class="s1">&#39;billing/meters&#39;</span>
<span class="w">  </span><span class="p">);</span>
</code></pre></div></td></tr></table></div>
<h4 id="notes_12">Notes</h4>
<ul>
<li>Meters are read-only records for tracking event usage in billing</li>
<li>Each meter includes display name, event name, and time window information</li>
<li>The status field indicates whether the meter is active</li>
<li>Use the <code>attrs</code> jsonb column to access additional meter details</li>
<li>While any column is allowed in a where clause, it is most efficient to filter by:<ul>
<li>id</li>
</ul>
</li>
</ul>
<h3 id="payment-intents">Payment Intents</h3>
<p>This is an object representing a guide through the process of collecting a payment from your customer.</p>
<p>Ref: <a href="https://stripe.com/docs/api/payment_intents/list">Stripe docs</a></p>
<h4 id="operations_13">Operations</h4>
<table>
<thead>
<tr>
<th>Object</th>
<th style="text-align: center;">Select</th>
<th style="text-align: center;">Insert</th>
<th style="text-align: center;">Update</th>
<th style="text-align: center;">Delete</th>
<th style="text-align: center;">Truncate</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://stripe.com/docs/api/payment_intents/list">Payment Intents</a></td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
</tr>
</tbody>
</table>
<h4 id="usage_13">Usage</h4>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">create</span><span class="w"> </span><span class="k">foreign</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">stripe</span><span class="p">.</span><span class="n">payment_intents</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">id</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">customer</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">amount</span><span class="w"> </span><span class="nb">bigint</span><span class="p">,</span>
<span class="w">  </span><span class="n">currency</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">payment_method</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">created</span><span class="w"> </span><span class="k">timestamp</span><span class="p">,</span>
<span class="w">  </span><span class="n">attrs</span><span class="w"> </span><span class="n">jsonb</span>
<span class="p">)</span>
<span class="w">  </span><span class="n">server</span><span class="w"> </span><span class="n">stripe_server</span>
<span class="w">  </span><span class="k">options</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="k">object</span><span class="w"> </span><span class="s1">&#39;payment_intents&#39;</span>
<span class="w">  </span><span class="p">);</span>
</code></pre></div></td></tr></table></div>
<h4 id="notes_13">Notes</h4>
<ul>
<li>Payment Intents are read-only records that guide the payment collection process</li>
<li>Each intent includes customer, amount, currency, and payment method information</li>
<li>The created timestamp tracks when the payment intent was initiated</li>
<li>Use the <code>attrs</code> jsonb column to access additional payment intent details</li>
<li>While any column is allowed in a where clause, it is most efficient to filter by:<ul>
<li>id</li>
<li>customer</li>
</ul>
</li>
</ul>
<h3 id="payouts">Payouts</h3>
<p>This is an object representing funds received from Stripe or initiated payouts to a bank account or debit card of a connected Stripe account.</p>
<p>Ref: <a href="https://stripe.com/docs/api/payouts/list">Stripe docs</a></p>
<h4 id="operations_14">Operations</h4>
<table>
<thead>
<tr>
<th>Object</th>
<th style="text-align: center;">Select</th>
<th style="text-align: center;">Insert</th>
<th style="text-align: center;">Update</th>
<th style="text-align: center;">Delete</th>
<th style="text-align: center;">Truncate</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://stripe.com/docs/api/payouts/list">Payouts</a></td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
</tr>
</tbody>
</table>
<h4 id="usage_14">Usage</h4>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">create</span><span class="w"> </span><span class="k">foreign</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">stripe</span><span class="p">.</span><span class="n">payouts</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">id</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">amount</span><span class="w"> </span><span class="nb">bigint</span><span class="p">,</span>
<span class="w">  </span><span class="n">currency</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">arrival_date</span><span class="w"> </span><span class="k">timestamp</span><span class="p">,</span>
<span class="w">  </span><span class="n">description</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">statement_descriptor</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">status</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">created</span><span class="w"> </span><span class="k">timestamp</span><span class="p">,</span>
<span class="w">  </span><span class="n">attrs</span><span class="w"> </span><span class="n">jsonb</span>
<span class="p">)</span>
<span class="w">  </span><span class="n">server</span><span class="w"> </span><span class="n">stripe_server</span>
<span class="w">  </span><span class="k">options</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="k">object</span><span class="w"> </span><span class="s1">&#39;payouts&#39;</span>
<span class="w">  </span><span class="p">);</span>
</code></pre></div></td></tr></table></div>
<h4 id="notes_14">Notes</h4>
<ul>
<li>Payouts are read-only records of fund transfers</li>
<li>Each payout includes amount, currency, and status information</li>
<li>The arrival_date indicates when funds will be available</li>
<li>The statement_descriptor appears on your bank statement</li>
<li>Use the <code>attrs</code> jsonb column to access additional payout details</li>
<li>While any column is allowed in a where clause, it is most efficient to filter by:<ul>
<li>id</li>
<li>status</li>
</ul>
</li>
</ul>
<h3 id="prices">Prices</h3>
<p>This is an object representing pricing configurations for products to facilitate multiple currencies and pricing options.</p>
<p>Ref: <a href="https://stripe.com/docs/api/prices/list">Stripe docs</a></p>
<h4 id="operations_15">Operations</h4>
<table>
<thead>
<tr>
<th>Object</th>
<th style="text-align: center;">Select</th>
<th style="text-align: center;">Insert</th>
<th style="text-align: center;">Update</th>
<th style="text-align: center;">Delete</th>
<th style="text-align: center;">Truncate</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://stripe.com/docs/api/prices/list">Prices</a></td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
</tr>
</tbody>
</table>
<h4 id="usage_15">Usage</h4>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">create</span><span class="w"> </span><span class="k">foreign</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">stripe</span><span class="p">.</span><span class="n">prices</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">id</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">active</span><span class="w"> </span><span class="n">bool</span><span class="p">,</span>
<span class="w">  </span><span class="n">currency</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">product</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">unit_amount</span><span class="w"> </span><span class="nb">bigint</span><span class="p">,</span>
<span class="w">  </span><span class="k">type</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">created</span><span class="w"> </span><span class="k">timestamp</span><span class="p">,</span>
<span class="w">  </span><span class="n">attrs</span><span class="w"> </span><span class="n">jsonb</span>
<span class="p">)</span>
<span class="w">  </span><span class="n">server</span><span class="w"> </span><span class="n">stripe_server</span>
<span class="w">  </span><span class="k">options</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="k">object</span><span class="w"> </span><span class="s1">&#39;prices&#39;</span>
<span class="w">  </span><span class="p">);</span>
</code></pre></div></td></tr></table></div>
<h4 id="notes_15">Notes</h4>
<ul>
<li>Prices are read-only records that define product pricing configurations</li>
<li>Each price includes currency, unit amount, and product reference</li>
<li>The active boolean indicates if the price can be used</li>
<li>The type field specifies the pricing model (e.g., one-time, recurring)</li>
<li>Use the <code>attrs</code> jsonb column to access additional price details</li>
<li>While any column is allowed in a where clause, it is most efficient to filter by:<ul>
<li>id</li>
<li>active</li>
</ul>
</li>
</ul>
<h3 id="products">Products</h3>
<p>This is an object representing all products available in Stripe.</p>
<p>Ref: <a href="https://stripe.com/docs/api/products/list">Stripe docs</a></p>
<h4 id="operations_16">Operations</h4>
<table>
<thead>
<tr>
<th>Object</th>
<th style="text-align: center;">Select</th>
<th style="text-align: center;">Insert</th>
<th style="text-align: center;">Update</th>
<th style="text-align: center;">Delete</th>
<th style="text-align: center;">Truncate</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://stripe.com/docs/api/products/list">Products</a></td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">❌</td>
</tr>
</tbody>
</table>
<h4 id="usage_16">Usage</h4>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">create</span><span class="w"> </span><span class="k">foreign</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">stripe</span><span class="p">.</span><span class="n">products</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">id</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">name</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">active</span><span class="w"> </span><span class="n">bool</span><span class="p">,</span>
<span class="w">  </span><span class="n">default_price</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">description</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">created</span><span class="w"> </span><span class="k">timestamp</span><span class="p">,</span>
<span class="w">  </span><span class="n">updated</span><span class="w"> </span><span class="k">timestamp</span><span class="p">,</span>
<span class="w">  </span><span class="n">attrs</span><span class="w"> </span><span class="n">jsonb</span>
<span class="p">)</span>
<span class="w">  </span><span class="n">server</span><span class="w"> </span><span class="n">stripe_server</span>
<span class="w">  </span><span class="k">options</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="k">object</span><span class="w"> </span><span class="s1">&#39;products&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="n">rowid_column</span><span class="w"> </span><span class="s1">&#39;id&#39;</span>
<span class="w">  </span><span class="p">);</span>
</code></pre></div></td></tr></table></div>
<h4 id="notes_16">Notes</h4>
<ul>
<li>Products can be created, read, updated, and deleted</li>
<li>Each product includes name, description, and active status</li>
<li>The default_price links to the product's default Price object</li>
<li>The updated timestamp tracks the last modification time</li>
<li>Use the <code>attrs</code> jsonb column to access additional product details</li>
<li>While any column is allowed in a where clause, it is most efficient to filter by:<ul>
<li>id</li>
<li>active</li>
</ul>
</li>
</ul>
<h3 id="refunds">Refunds</h3>
<p>This is an object representing refunds for charges that have previously been created but not yet refunded.</p>
<p>Ref: <a href="https://stripe.com/docs/api/refunds/list">Stripe docs</a></p>
<h4 id="operations_17">Operations</h4>
<table>
<thead>
<tr>
<th>Object</th>
<th style="text-align: center;">Select</th>
<th style="text-align: center;">Insert</th>
<th style="text-align: center;">Update</th>
<th style="text-align: center;">Delete</th>
<th style="text-align: center;">Truncate</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://stripe.com/docs/api/refunds/list">Refunds</a></td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
</tr>
</tbody>
</table>
<h4 id="usage_17">Usage</h4>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">create</span><span class="w"> </span><span class="k">foreign</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">stripe</span><span class="p">.</span><span class="n">refunds</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">id</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">amount</span><span class="w"> </span><span class="nb">bigint</span><span class="p">,</span>
<span class="w">  </span><span class="n">currency</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">charge</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">payment_intent</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">reason</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">status</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">created</span><span class="w"> </span><span class="k">timestamp</span><span class="p">,</span>
<span class="w">  </span><span class="n">attrs</span><span class="w"> </span><span class="n">jsonb</span>
<span class="p">)</span>
<span class="w">  </span><span class="n">server</span><span class="w"> </span><span class="n">stripe_server</span>
<span class="w">  </span><span class="k">options</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="k">object</span><span class="w"> </span><span class="s1">&#39;refunds&#39;</span>
<span class="w">  </span><span class="p">);</span>
</code></pre></div></td></tr></table></div>
<h4 id="notes_17">Notes</h4>
<ul>
<li>Refunds are read-only records of charge reversals</li>
<li>Each refund includes amount, currency, and status information</li>
<li>The charge and payment_intent fields link to the original transaction</li>
<li>The reason field provides context for the refund</li>
<li>Use the <code>attrs</code> jsonb column to access additional refund details</li>
<li>While any column is allowed in a where clause, it is most efficient to filter by:<ul>
<li>id</li>
<li>charge</li>
<li>payment_intent</li>
</ul>
</li>
</ul>
<h3 id="setupattempts">SetupAttempts</h3>
<p>This is an object representing attempted confirmations of SetupIntents, tracking both successful and unsuccessful attempts.</p>
<p>Ref: <a href="https://stripe.com/docs/api/setup_attempts/list">Stripe docs</a></p>
<h4 id="operations_18">Operations</h4>
<table>
<thead>
<tr>
<th>Object</th>
<th style="text-align: center;">Select</th>
<th style="text-align: center;">Insert</th>
<th style="text-align: center;">Update</th>
<th style="text-align: center;">Delete</th>
<th style="text-align: center;">Truncate</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://stripe.com/docs/api/setup_attempts/list">SetupAttempts</a></td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
</tr>
</tbody>
</table>
<h4 id="usage_18">Usage</h4>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">create</span><span class="w"> </span><span class="k">foreign</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">stripe</span><span class="p">.</span><span class="n">setup_attempts</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">id</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">application</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">customer</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">on_behalf_of</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">payment_method</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">setup_intent</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">status</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="k">usage</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">created</span><span class="w"> </span><span class="k">timestamp</span><span class="p">,</span>
<span class="w">  </span><span class="n">attrs</span><span class="w"> </span><span class="n">jsonb</span>
<span class="p">)</span>
<span class="w">  </span><span class="n">server</span><span class="w"> </span><span class="n">stripe_server</span>
<span class="w">  </span><span class="k">options</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="k">object</span><span class="w"> </span><span class="s1">&#39;setup_attempts&#39;</span>
<span class="w">  </span><span class="p">);</span>
</code></pre></div></td></tr></table></div>
<h4 id="notes_18">Notes</h4>
<ul>
<li>SetupAttempts are read-only records of payment setup confirmation attempts</li>
<li>Each attempt includes customer, payment method, and status information</li>
<li>The setup_intent field links to the associated SetupIntent</li>
<li>The usage field indicates the intended payment method usage</li>
<li>Use the <code>attrs</code> jsonb column to access additional attempt details</li>
<li>While any column is allowed in a where clause, it is most efficient to filter by:<ul>
<li>id</li>
<li>setup_intent</li>
</ul>
</li>
</ul>
<h3 id="setupintents">SetupIntents</h3>
<p>This is an object representing a guide through the process of setting up and saving customer payment credentials for future payments.</p>
<p>Ref: <a href="https://stripe.com/docs/api/setup_intents/list">Stripe docs</a></p>
<h4 id="operations_19">Operations</h4>
<table>
<thead>
<tr>
<th>Object</th>
<th style="text-align: center;">Select</th>
<th style="text-align: center;">Insert</th>
<th style="text-align: center;">Update</th>
<th style="text-align: center;">Delete</th>
<th style="text-align: center;">Truncate</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://stripe.com/docs/api/setup_intents/list">SetupIntents</a></td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
</tr>
</tbody>
</table>
<h4 id="usage_19">Usage</h4>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">create</span><span class="w"> </span><span class="k">foreign</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">stripe</span><span class="p">.</span><span class="n">setup_intents</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">id</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">client_secret</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">customer</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">description</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">payment_method</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">status</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="k">usage</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">created</span><span class="w"> </span><span class="k">timestamp</span><span class="p">,</span>
<span class="w">  </span><span class="n">attrs</span><span class="w"> </span><span class="n">jsonb</span>
<span class="p">)</span>
<span class="w">  </span><span class="n">server</span><span class="w"> </span><span class="n">stripe_server</span>
<span class="w">  </span><span class="k">options</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="k">object</span><span class="w"> </span><span class="s1">&#39;setup_intents&#39;</span>
<span class="w">  </span><span class="p">);</span>
</code></pre></div></td></tr></table></div>
<h4 id="notes_19">Notes</h4>
<ul>
<li>SetupIntents are read-only records for saving customer payment credentials</li>
<li>Each intent includes customer, payment method, and status information</li>
<li>The client_secret is used for client-side confirmation</li>
<li>The usage field indicates how the payment method will be used</li>
<li>Use the <code>attrs</code> jsonb column to access additional intent details</li>
<li>While any column is allowed in a where clause, it is most efficient to filter by:<ul>
<li>id</li>
<li>customer</li>
<li>payment_method</li>
</ul>
</li>
</ul>
<h3 id="subscriptions">Subscriptions</h3>
<p>This is an object representing customer recurring payment schedules.</p>
<p>Ref: <a href="https://stripe.com/docs/api/subscriptions/list">Stripe docs</a></p>
<h4 id="operations_20">Operations</h4>
<table>
<thead>
<tr>
<th>Object</th>
<th style="text-align: center;">Select</th>
<th style="text-align: center;">Insert</th>
<th style="text-align: center;">Update</th>
<th style="text-align: center;">Delete</th>
<th style="text-align: center;">Truncate</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://stripe.com/docs/api/subscriptions/list">Subscriptions</a></td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">❌</td>
</tr>
</tbody>
</table>
<h4 id="usage_20">Usage</h4>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">create</span><span class="w"> </span><span class="k">foreign</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">stripe</span><span class="p">.</span><span class="n">subscriptions</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">id</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">customer</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">currency</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">current_period_start</span><span class="w"> </span><span class="k">timestamp</span><span class="p">,</span>
<span class="w">  </span><span class="n">current_period_end</span><span class="w"> </span><span class="k">timestamp</span><span class="p">,</span>
<span class="w">  </span><span class="n">attrs</span><span class="w"> </span><span class="n">jsonb</span>
<span class="p">)</span>
<span class="w">  </span><span class="n">server</span><span class="w"> </span><span class="n">stripe_server</span>
<span class="w">  </span><span class="k">options</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="k">object</span><span class="w"> </span><span class="s1">&#39;subscriptions&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="n">rowid_column</span><span class="w"> </span><span class="s1">&#39;id&#39;</span>
<span class="w">  </span><span class="p">);</span>
</code></pre></div></td></tr></table></div>
<h4 id="notes_20">Notes</h4>
<ul>
<li>Subscriptions can be created, read, updated, and deleted</li>
<li>Each subscription includes customer and currency information</li>
<li>The current_period_start and current_period_end track billing cycles</li>
<li>The rowid_column option enables modification operations</li>
<li>Use the <code>attrs</code> jsonb column to access additional subscription details</li>
<li>While any column is allowed in a where clause, it is most efficient to filter by:<ul>
<li>id</li>
<li>customer</li>
<li>price</li>
<li>status</li>
</ul>
</li>
</ul>
<h3 id="tokens">Tokens</h3>
<p>This is an object representing a secure way to collect sensitive card, bank account, or personally identifiable information (PII) from customers.</p>
<p>Ref: <a href="https://stripe.com/docs/api/tokens">Stripe docs</a></p>
<h4 id="operations_21">Operations</h4>
<table>
<thead>
<tr>
<th>Object</th>
<th style="text-align: center;">Select</th>
<th style="text-align: center;">Insert</th>
<th style="text-align: center;">Update</th>
<th style="text-align: center;">Delete</th>
<th style="text-align: center;">Truncate</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://stripe.com/docs/api/tokens">Tokens</a></td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
</tr>
</tbody>
</table>
<h4 id="usage_21">Usage</h4>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">create</span><span class="w"> </span><span class="k">foreign</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">stripe</span><span class="p">.</span><span class="n">tokens</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">id</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="k">type</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">client_ip</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">created</span><span class="w"> </span><span class="k">timestamp</span><span class="p">,</span>
<span class="w">  </span><span class="n">livemode</span><span class="w"> </span><span class="nb">boolean</span><span class="p">,</span>
<span class="w">  </span><span class="n">used</span><span class="w"> </span><span class="nb">boolean</span><span class="p">,</span>
<span class="w">  </span><span class="n">attrs</span><span class="w"> </span><span class="n">jsonb</span>
<span class="p">)</span>
<span class="w">  </span><span class="n">server</span><span class="w"> </span><span class="n">stripe_server</span>
<span class="w">  </span><span class="k">options</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="k">object</span><span class="w"> </span><span class="s1">&#39;tokens&#39;</span>
<span class="w">  </span><span class="p">);</span>
</code></pre></div></td></tr></table></div>
<h4 id="notes_21">Notes</h4>
<ul>
<li>Tokens are read-only, single-use objects for secure data collection</li>
<li>Each token includes type information (card, bank_account, pii, etc.)</li>
<li>The client_ip field records where the token was created</li>
<li>The used field indicates if the token has been used</li>
<li>Use the <code>attrs</code> jsonb column to access token details like card or bank information</li>
<li>While any column is allowed in a where clause, it is most efficient to filter by:<ul>
<li>id</li>
<li>type</li>
<li>used</li>
</ul>
</li>
</ul>
<h3 id="top-ups">Top-ups</h3>
<p>This is an object representing a way to add funds to your Stripe balance.</p>
<p>Ref: <a href="https://stripe.com/docs/api/topups/list">Stripe docs</a></p>
<h4 id="operations_22">Operations</h4>
<table>
<thead>
<tr>
<th>Object</th>
<th style="text-align: center;">Select</th>
<th style="text-align: center;">Insert</th>
<th style="text-align: center;">Update</th>
<th style="text-align: center;">Delete</th>
<th style="text-align: center;">Truncate</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://stripe.com/docs/api/topups/list">Top-ups</a></td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
</tr>
</tbody>
</table>
<h4 id="usage_22">Usage</h4>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">create</span><span class="w"> </span><span class="k">foreign</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">stripe</span><span class="p">.</span><span class="n">topups</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">id</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">amount</span><span class="w"> </span><span class="nb">bigint</span><span class="p">,</span>
<span class="w">  </span><span class="n">currency</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">description</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">status</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">created</span><span class="w"> </span><span class="k">timestamp</span><span class="p">,</span>
<span class="w">  </span><span class="n">attrs</span><span class="w"> </span><span class="n">jsonb</span>
<span class="p">)</span>
<span class="w">  </span><span class="n">server</span><span class="w"> </span><span class="n">stripe_server</span>
<span class="w">  </span><span class="k">options</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="k">object</span><span class="w"> </span><span class="s1">&#39;topups&#39;</span>
<span class="w">  </span><span class="p">);</span>
</code></pre></div></td></tr></table></div>
<h4 id="notes_22">Notes</h4>
<ul>
<li>Top-ups are read-only records of balance additions</li>
<li>Each top-up includes amount and currency information</li>
<li>The status field tracks the top-up state (e.g., succeeded, failed)</li>
<li>Use the <code>attrs</code> jsonb column to access additional top-up details</li>
<li>While any column is allowed in a where clause, it is most efficient to filter by:<ul>
<li>id</li>
<li>status</li>
</ul>
</li>
</ul>
<h3 id="transfers">Transfers</h3>
<p>This is an object representing fund movements between Stripe accounts as part of Connect.</p>
<p>Ref: <a href="https://stripe.com/docs/api/transfers/list">Stripe docs</a></p>
<h4 id="operations_23">Operations</h4>
<table>
<thead>
<tr>
<th>Object</th>
<th style="text-align: center;">Select</th>
<th style="text-align: center;">Insert</th>
<th style="text-align: center;">Update</th>
<th style="text-align: center;">Delete</th>
<th style="text-align: center;">Truncate</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://stripe.com/docs/api/transfers/list">Transfers</a></td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
</tr>
</tbody>
</table>
<h4 id="usage_23">Usage</h4>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">create</span><span class="w"> </span><span class="k">foreign</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">stripe</span><span class="p">.</span><span class="n">transfers</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">id</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">amount</span><span class="w"> </span><span class="nb">bigint</span><span class="p">,</span>
<span class="w">  </span><span class="n">currency</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">description</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">destination</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">created</span><span class="w"> </span><span class="k">timestamp</span><span class="p">,</span>
<span class="w">  </span><span class="n">attrs</span><span class="w"> </span><span class="n">jsonb</span>
<span class="p">)</span>
<span class="w">  </span><span class="n">server</span><span class="w"> </span><span class="n">stripe_server</span>
<span class="w">  </span><span class="k">options</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="k">object</span><span class="w"> </span><span class="s1">&#39;transfers&#39;</span>
<span class="w">  </span><span class="p">);</span>
</code></pre></div></td></tr></table></div>
<h4 id="notes_23">Notes</h4>
<ul>
<li>Transfers are read-only records of fund movements between accounts</li>
<li>Each transfer includes amount, currency, and destination information</li>
<li>The destination field identifies the receiving Stripe account</li>
<li>Use the <code>attrs</code> jsonb column to access additional transfer details</li>
<li>While any column is allowed in a where clause, it is most efficient to filter by:<ul>
<li>id</li>
<li>destination</li>
</ul>
</li>
</ul>
<h2 id="query-pushdown-support">Query Pushdown Support</h2>
<p>This FDW supports <code>where</code> clause pushdown. You can specify a filter in <code>where</code> clause and it will be passed to Stripe API call.</p>
<p>For example, this query</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">stripe</span><span class="p">.</span><span class="n">customers</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;cus_xxx&#39;</span><span class="p">;</span>
</code></pre></div></td></tr></table></div>
<p>will be translated to a Stripe API call: <code>https://api.stripe.com/v1/customers/cus_xxx</code>.</p>
<p>For supported filter columns for each object, please check out foreign table documents above.</p>
<h2 id="limitations">Limitations</h2>
<p>This section describes important limitations and considerations when using this FDW:</p>
<ul>
<li>Large result sets may experience slower performance due to full data transfer requirement</li>
<li>Webhook events and real-time updates are not supported</li>
<li>API version mismatches can cause unexpected data format issues</li>
<li>Materialized views using these foreign tables may fail during logical backups</li>
</ul>
<h2 id="examples">Examples</h2>
<p>Some examples on how to use Stripe foreign tables.</p>
<h3 id="basic-example">Basic example</h3>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1">-- always limit records to reduce API calls to Stripe</span>
<span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">stripe</span><span class="p">.</span><span class="n">customers</span><span class="w"> </span><span class="k">limit</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
<span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">stripe</span><span class="p">.</span><span class="n">invoices</span><span class="w"> </span><span class="k">limit</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
<span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">stripe</span><span class="p">.</span><span class="n">subscriptions</span><span class="w"> </span><span class="k">limit</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
</code></pre></div></td></tr></table></div>
<h3 id="query-json-attributes">Query JSON attributes</h3>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1">-- extract account name for an invoice</span>
<span class="k">select</span><span class="w"> </span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">attrs</span><span class="o">-&gt;&gt;</span><span class="s1">&#39;account_name&#39;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">account_name</span>
<span class="k">from</span><span class="w"> </span><span class="n">stripe</span><span class="p">.</span><span class="n">invoices</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;in_xxx&#39;</span><span class="p">;</span>

<span class="c1">-- extract invoice line items for an invoice</span>
<span class="k">select</span><span class="w"> </span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">attrs</span><span class="o">#&gt;</span><span class="s1">&#39;{lines,data}&#39;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">line_items</span>
<span class="k">from</span><span class="w"> </span><span class="n">stripe</span><span class="p">.</span><span class="n">invoices</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;in_xxx&#39;</span><span class="p">;</span>

<span class="c1">-- extract subscription items for a subscription</span>
<span class="k">select</span><span class="w"> </span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">attrs</span><span class="o">#&gt;</span><span class="s1">&#39;{items,data}&#39;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">items</span>
<span class="k">from</span><span class="w"> </span><span class="n">stripe</span><span class="p">.</span><span class="n">subscriptions</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;sub_xxx&#39;</span><span class="p">;</span>
</code></pre></div></td></tr></table></div>
<h3 id="data-modify">Data modify</h3>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1">-- insert</span>
<span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">stripe</span><span class="p">.</span><span class="n">customers</span><span class="p">(</span><span class="n">email</span><span class="p">,</span><span class="n">name</span><span class="p">,</span><span class="n">description</span><span class="p">)</span>
<span class="k">values</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;test@test.com&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;test name&#39;</span><span class="p">,</span><span class="w"> </span><span class="k">null</span><span class="p">);</span>

<span class="c1">-- update</span>
<span class="k">update</span><span class="w"> </span><span class="n">stripe</span><span class="p">.</span><span class="n">customers</span>
<span class="k">set</span><span class="w"> </span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;hello fdw&#39;</span>
<span class="k">where</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;cus_xxx&#39;</span><span class="p">;</span>

<span class="k">update</span><span class="w"> </span><span class="n">stripe</span><span class="p">.</span><span class="n">customers</span>
<span class="k">set</span><span class="w"> </span><span class="n">attrs</span><span class="o">=</span><span class="s1">&#39;{&quot;metadata[foo]&quot;: &quot;bar&quot;}&#39;</span>
<span class="k">where</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;cus_xxx&#39;</span><span class="p">;</span>

<span class="c1">-- delete</span>
<span class="k">delete</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">stripe</span><span class="p">.</span><span class="n">customers</span>
<span class="k">where</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;cus_xxx&#39;</span><span class="p">;</span>
</code></pre></div></td></tr></table></div>
<p>To insert into an object with sub-fields, we need to create the foreign table with column name exactly same as the API required. For example, to insert a <code>subscription</code> object we can define the foreign table following <a href="https://docs.stripe.com/api/subscriptions/create">the Stripe API docs</a>:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1">-- create the subscription table for data insertion, the &#39;customer&#39;</span>
<span class="c1">-- and &#39;items[0][price]&#39; fields are required.</span>
<span class="k">create</span><span class="w"> </span><span class="k">foreign</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">stripe</span><span class="p">.</span><span class="n">subscriptions</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">id</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">customer</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="ss">&quot;items[0][price]&quot;</span><span class="w"> </span><span class="nb">text</span><span class="w">  </span><span class="c1">-- column name will be used in API Post request</span>
<span class="p">)</span>
<span class="w">  </span><span class="n">server</span><span class="w"> </span><span class="n">stripe_server</span>
<span class="w">  </span><span class="k">options</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="k">object</span><span class="w"> </span><span class="s1">&#39;subscriptions&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="n">rowid_column</span><span class="w"> </span><span class="s1">&#39;id&#39;</span>
<span class="w">  </span><span class="p">);</span>
</code></pre></div></td></tr></table></div>
<p>And then we can insert a subscription like below:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">stripe</span><span class="p">.</span><span class="n">subscriptions</span><span class="p">(</span><span class="n">customer</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;items[0][price]&quot;</span><span class="p">)</span>
<span class="k">values</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;cus_Na6dX7aXxi11N4&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;price_1MowQULkdIwHu7ixraBm864M&#39;</span><span class="p">);</span>
</code></pre></div></td></tr></table></div>
<p>Note this foreign table is only for data insertion, it cannot be used in <code>select</code> statement.</p>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../s3/" class="md-footer__link md-footer__link--prev" aria-label="Previous: S3 (CSV, JSON, Parquet)">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                S3 (CSV, JSON, Parquet)
              </div>
            </div>
          </a>
        
        
          
          <a href="../mssql/" class="md-footer__link md-footer__link--next" aria-label="Next: SQL Server">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                SQL Server
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; Supabase
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
    <a href="https://x.com/supabase" target="_blank" rel="noopener" title="Supabase on Twitter" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
    </a>
  
    
    
    
    
    <a href="https://reddit.com/r/supabase" target="_blank" rel="noopener" title="Supabase on Reddit" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M0 256C0 114.6 114.6 0 256 0s256 114.6 256 256-114.6 256-256 256H37.1c-13.7 0-20.5-16.5-10.9-26.2L75 437C28.7 390.7 0 326.7 0 256zm349.6-102.4c23.6 0 42.7-19.1 42.7-42.7s-19.1-42.7-42.7-42.7c-20.6 0-37.8 14.6-41.8 34-34.5 3.7-61.4 33-61.4 68.4v.2c-37.5 1.6-71.8 12.3-99 29.1-10.1-7.8-22.8-12.5-36.5-12.5-33 0-59.8 26.8-59.8 59.8 0 24 14.1 44.6 34.4 54.1 2 69.4 77.6 125.2 170.6 125.2s168.7-55.9 170.6-125.3c20.2-9.6 34.1-30.2 34.1-54 0-33-26.8-59.8-59.8-59.8-13.7 0-26.3 4.6-36.4 12.4-27.4-17-62.1-27.7-100-29.1v-.2c0-25.4 18.9-46.5 43.4-49.9 4.4 18.8 21.3 32.8 41.5 32.8zm-172.5 93.3c16.7 0 29.5 17.6 28.5 39.3s-13.5 29.6-30.3 29.6-31.4-8.8-30.4-30.5S160.3 247 177 247zm190.1 38.3c1 21.7-13.7 30.5-30.4 30.5s-29.3-7.9-30.3-29.6c-1-21.7 11.8-39.3 28.5-39.3s31.2 16.6 32.1 38.3zm-48.1 56.7c-10.3 24.6-34.6 41.9-63 41.9s-52.7-17.3-63-41.9c-1.2-2.9.8-6.2 3.9-6.5 18.4-1.9 38.3-2.9 59.1-2.9s40.7 1 59.1 2.9c3.1.3 5.1 3.6 3.9 6.5z"/></svg>
    </a>
  
    
    
    
    
    <a href="https://github.com/supabase/wrappers" target="_blank" rel="noopener" title="Wrappers on GitHub" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.annotate", "content.code.copy", "navigation.expand", "navigation.tabs", "navigation.tabs.sticky", "navigation.sections", "navigation.indexes", "navigation.footer"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.fe8b6f2b.min.js"></script>
      
    
  </body>
</html>